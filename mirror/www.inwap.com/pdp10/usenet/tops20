Article 4308 of alt.sys.pdp10:
Path: news3.best.com!news1.best.com!feed1.news.rcn.net!rcn!europa.clark.net!206.132.66.41!newsfeed-east.supernews.com!supernews.com!Supernews69!10.0.0.1!10.0.0.1
From: racerdave@net1plus.com (Dave Lyons)
Newsgroups: alt.sys.pdp10
Subject: Re: Re: KL Console Commands
Date: Sun, 18 Oct 1998 12:12:43 GMT
Organization: http://www.supernews.com, The World's Usenet: Discussions Start Here
Lines: 34
Message-ID: <3629d82b.560141906@10.0.0.1>
References: <3615172c.19558816@news.clark.net> <6vndpj$g5r$1@strato.ultra.net> <Pine.NXT.4.10.9810102238390.18807-100000@Tomobiki-Cho.CAC.Washington.EDU> <707o2n$7al$1@strato.ultra.net> <70c1qv$e48$1@shell3.ba.best.com>
NNTP-Posting-Host: 208.200.157.81
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Trace: 908712733 P0XQBQRYN9D51D0C8C usenet58.supernews.com
X-Complaints-To: newsabuse@supernews.com
X-Newsreader: Forte Agent 1.5/32.452
X-No-Archive: yes
Xref: news3.best.com alt.sys.pdp10:4308

On 17 Oct 1998 23:28:47 -0700, inwap@best.com (Smith and O'Halloran)
wrote:

>
>Read-after-write is something you do when you do not fully trust the magnetic
>media to store the bit patterns that were sent to it.  This would be done by
>the kernel, completely transparent to the user program.  After the
>kernel wrote the user's buffer to the disk, it would read the disk block
>back (to somewhere else in the kernel virtual address space) to verify
>that the data was recorded properly.  Only then would the system call
>return to the user indicating a successful write.  Disk addressing was
>not available to the user.
>	-Joe

Tops-20 didn't quite do it that way.  There was one problem.  If you
needed to do a read after write operation, and you were doing a write
into the swap space on the disk, there was no way to assure that there
would be a buffer available to read into, and the system could get
into a deadlock condition.  The decision to do a read-after-write was
made on a case by case basis, based on the disk pack that you were
going to.  One bit for user data, one bit for swap space.  User data
was not the issue, but swap space was.

So, the -20 used a feature of the RH-20 that said, if you read into
mapped location 0, then do the transfer, check all the checksums and
ECC codes, but dont write into memory.  So, on the -20, it was really
a "do I think I can read this block" test.  Besides, the compare would
have sucked the machine to the ground even if the lack of a buffer
didnt cause a deadlock.  Because of the way it was dome, it only took
about 100 WORDS of memory to impliment the whole thing, code included.
Performance when running in this mode pretty good, as each write only
took an additional rotation of the disk pack.  CHECKD was used to flip
the read after write bits on and off.



Article 4975 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!news.maxwell.syr.edu!newspeer1.nac.net!newspeer.monmouth.com!news.ultranet.com!d4
From: jmfbahciv@aol.com
Newsgroups: alt.folklore.computers,alt.sys.pdp10
Subject: Re: How in Hell did the Great Unix to NT Migration begin??
Date: Mon, 03 May 99 13:38:09 GMT
Organization: UltraNet Communications, Inc.
Lines: 59
Message-ID: <7gkf2m$pj9$1@antiochus.ultra.net>
References: <371be3e4.0@newsfeed.one.net> <372B1D0A.2AB40504@MA.UltraNet.Com> <7ghaqi$hnv$2@ligarius.ultra.net> <372C95FD.8F899038@MA.UltraNet.Com> <FB4xAy.AoE@world.std.com>
NNTP-Posting-Host: d4.dial-15.mbo.ma.ultra.net
X-Complaints-To: abuse@ultra.net
X-Ultra-Time: 3 May 1999 15:24:06 GMT
X-Newsreader: News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.folklore.computers:129429 alt.sys.pdp10:4975

In article <FB4xAy.AoE@world.std.com>,
   weiner@world.std.com (Sam Weiner) wrote:
>In article <372C95FD.8F899038@MA.UltraNet.Com>,
>Alan H. Martin <AMartin@MA.UltraNet.Com> wrote:
>>jmfbahciv@aol.com wrote:
>>> 
>>> In article <372B1D0A.2AB40504@MA.UltraNet.Com>,
>>>    "Alan H. Martin" <AMartin@MA.UltraNet.Com> wrote:
>>> >jmfbahciv@aol.com wrote:
>>> >>
>>> >> In article <3723DBA5.E5B2FF0@MA.UltraNet.Com>,
>>> >>    "Alan H. Martin" <AMartin@MA.UltraNet.Com> wrote:
>>> >> >"Peter Hendén" wrote:
>>> >> >> jmfbahciv@aol.com wrote:
>>> >> >....
>>> >> >> >The reason I didn't like to use the -20 is because ...; it was
>>> >> >> >too slow for my taste ...
>>> >> >>
>>> >> >> Wasn't this dependent on whether your programs were
>>> >> >> TOPS-10 (used PA1050) or TOPS-20 native. As I recall
>>> >> >> (1977 - 80) we had a lot of users on our machine running
>>> >> >> Interlisp-20 and a bunch of other native programs, and they
>>> >> >> didn't get sluggish until long after the TOPS-10 progs did.
>>...
>>> >>... Just because one user used
>>> >> something that did UUOs, should NOT have affected another user's
>>> >> performance who is using JSYSes.  ...
>>...
>>> Reread what I wrote, Alan.  I would use the -20 in the early morning
>>> until somebody else logged on (I didn't have to know about the
>>> person..I could feel the system degrade).  Then, about that time,
>>> TW would give the TOPS10 systems up for timesharing and I would
>>> move to the -10.  If the -20 system was so great, how come
>>> builds were taken over to the -10 (or didn't you know about that?)
>>
>>Could you sense whether the person was running native or compatibility 
apps?
>
>TOPS-10 was definitely able to support more users in general but perhaps
>some of what Barb experienced was from early versions of 
assemblers/linkers
>which hadn't been modified to use native TOPS-20 I/O?  I'm not sure of
>the timeframe (plus I was mostly a TOPS-10 person before LSBU) but I think
>it took a while for TOPS-20 aware tools to be made available.
>
>TOPS-20 monitor builds were done on TOPS-20,

Officially, they were done on the -20.  It was with the
advent of V6 LINK that the -20 guys had to build on the -20
and not sneak over to the -10 (but some of them still 
assembled over on the -10).  I'm not talking about tasks
done by Release Engineering, Sam.

> I'm not sure about the language products.

After they got their own machine, the builds were done on the -20
for the -20.

/BAH


Article 4991 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!feed1.news.rcn.net!rcn!news.ultranet.com!d6
From: jmfbahciv@aol.com
Newsgroups: alt.folklore.computers,alt.sys.pdp10
Subject: Re: How in Hell did the Great Unix to NT Migration begin??
Date: Tue, 04 May 99 09:18:13 GMT
Organization: UltraNet Communications, Inc.
Lines: 27
Message-ID: <7gmk7g$aq5$2@antiochus.ultra.net>
References: <371be3e4.0@newsfeed.one.net> <FB4xAy.AoE@world.std.com> <7gj8co$flt$1@shell3.ba.best.com> <Pine.LNX.4.10.9905030748110.19836-100000@bony.umtec.com> <7gmi6h$cl3$1@shell3.ba.best.com>
NNTP-Posting-Host: d6.dial-12.mbo.ma.ultra.net
X-Complaints-To: abuse@ultra.net
X-Ultra-Time: 4 May 1999 11:04:16 GMT
X-Newsreader: News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.folklore.computers:129486 alt.sys.pdp10:4991

In article <7gmi6h$cl3$1@shell3.ba.best.com>,
   inwap@best.com (Joe Smith) wrote:
>In article <Pine.LNX.4.10.9905030748110.19836-100000@bony.umtec.com>,
>Daniel Seagraves  <root@bony.umtec.com> wrote:
>>Did this work the opposite way?  Could you use a TOPS-20 to build a 
TOPS-10?
>
>Should have.  The goal was that the TOPS-10 build process 
>was self-contained. All the source files and UNV files 
>(similar to "include files") came from the current directory; 
>no system library files were included in the Monitor.

On our systems, it just wasn't practical.  Besides the user
response time being abyssmal (I'm comparing it to an SMP TOPS10),
the setup so that the universals and RELs, etc. was almost
beyond source management techniques.  It also didn't help that
the -20 group wouldn't take our updated sources (e.g., UUOSYM,
MACTEN, SCAN) and ship them.  They always stayed with some
stuff that was so old, nothing would have worked.

I managed to solve that problem but not with a guarantee that
the process would continue to work.  Another little project
that I never could get off the ground.

/BAH

Subtract a hundred and four for e-mail.


Article 6350 of alt.sys.pdp10:
Path: news3.best.com!news1.best.com!nntp.primenet.com!nntp.gctr.net!logbridge.uoregon.edu!news.u.washington.edu!Tomobiki-Cho.CAC.Washington.EDU!mrc
From: Mark Crispin <mrc@CAC.Washington.EDU>
Newsgroups: alt.sys.pdp10
Subject: Re: PDP-10 Emulators
Date: Mon, 14 Feb 2000 09:18:43 -0800
Organization: Networks & Distributed Computing
Lines: 31
Message-ID: <Pine.NXT.4.30.0002140904110.7048-100000@Tomobiki-Cho.CAC.Washington.EDU>
References: <389b6dbf$0$226@nntp1.ba.best.com>   <20000206093051.23572.00001532@ng-fu1.aol.com>   <389dd17f$0$216@nntp1.ba.best.com>   <883p09$l91$1@mushi.colo.neosoft.com>   <Pine.NXT.4.30.0002121320380.5541-100000@Tomobiki-Cho.CAC.Washington.EDU> <5466vtk99s.fsf@flipper.cisco.com>
NNTP-Posting-Host: tomobiki-cho.cac.washington.edu
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Trace: nntp1.u.washington.edu 950548728 16760 (None) 140.142.17.38
X-Complaints-To: help@cac.washington.edu
NNTP-Posting-User: pchar
To: Bill Westfield <billw@flipper.cisco.com>
In-Reply-To: <5466vtk99s.fsf@flipper.cisco.com>
Xref: news3.best.com alt.sys.pdp10:6350

On 12 Feb 2000, Bill Westfield wrote:
> >> In TOPS-20, any KL monitor would run on any KL system;
> Not true.  In particular, I think you'd run into problems running a vanilla
> tops20 monitor on a computer with a "large file system" (a stanford hack,
> IIRC - rather widely deployed.  More than one RP07 per structure - what a
> concept...)

I know all about that "hack".  I wrote it.  [Although the obvious change
was certainly done by others.]  But that's something that only people with
sources could do.

For the benefit of everyone else; the "hack" involved moving DSKNB from
1B15 to 1B13.  This doubled the disk address space from 20 to 21 bits, and
made it possible to have more than one RP07 in a structure.

If you also moved DSKAB from 1B14 to 1B12, you would quadruple the disk
address space from 20 to 22 bits; however, the resulting filesystems (even
single-pack RP06s) would be incompatible from DEC monitors.

The final hack (which I didn't do) was to increase the disk record size
(what DEC called "sector size") from 128 words to 512 words.  Since
TOPS-20 always does things in 512 word pages, there's no need to keep the
tiny record size from TOPS-10.

-- Mark --

* RCW 19.190 notice: This email address is located in Washington State.	*
* Unsolicited commercial email may be billed $500 per message.		*
Science does not emerge from voting, party politics, or public debate.




Article 6359 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!newsfeed.berkeley.edu!news-FFM2.ecrc.net!news.mindspring.net!firehose.mindspring.com!207.69.128.180!alderson
From: alderson@netcom2.netcom.com (Richard M. Alderson III)
Newsgroups: alt.sys.pdp10
Subject: Re: TOPS-20's install tape...
Date: 18 Feb 2000 01:30:51 GMT
Organization: NETCOM On-line services
Lines: 42
Message-ID: <ALDERSON.00Feb17173051@netcom2.netcom.com>
References: <Pine.LNX.4.10.10002121826520.13983-100000@bony.umtec.com>
	<20000213032711.02311.00000277@ng-cg1.aol.com>
Reply-To: alderson@netcom.com
NNTP-Posting-Host: c7.b7.09.66
X-Server-Date: 18 Feb 2000 01:34:57 GMT
In-reply-to: madbeing@aol.coms1x's message of 13 Feb 2000 08:27:11 GMT
Xref: news3.best.com alt.sys.pdp10:6359

In article <20000213032711.02311.00000277@ng-cg1.aol.com> madbeing@aol.coms1x
(MadBeing) writes:

>If you want to initialize a PS filesystem, you'll need to start the MONITR.EXE
>at a different entry point.  I'd have to look at the ddt output to be sure of
>the address but I believe its in the 145 address range (could be 146 or 147).
>The other entry points did things like warmstart the system, coldstart without
>reloading, and I believe the keepalive crash vector was in there too.

Actually, on a DEC monitor it's location 143.  147 is the usual startup
location, and 140 gets you into EDDT.  Umm, another entry point (145?) was also
EDDT, and I don't remember what the others were.  Never used them, only saw
them in the sources.

Oh, good, I had a copy of the DEC version of STG.MAC online:

SVECT=:140

;MANUAL START TRANSFER VECTOR

        LOC SVECT
EVDDT:: JRST DDTZ               ;EDDT
        JRST SYSDDT             ;RESET AND GO TO EDDT
EVDDT2::JRST DDTZ               ;COPY OF EDDT IN CASE OTHER CLOBBERED
EVSLOD::JRST SYSLOD             ;INITIALIZE DISK FILE SYSTEM
EVVSM:: JRST SYSVSM             ;VERIFY SWAPABLE MONITOR ON STARTUP.
EVRST:: JRST SYSRST             ;RESTART
EVLDGO::JRST SYSGO              ;RELOAD AND START
EVGO::  JRST SYSGO1             ;START

So 140 and 142 are the "start EDDT" entry points, 143 is the disk format entry,
and 147 is the usual startup.

STG.MAC was the only module shipped in source to non-source Tops-20 customers:
This allowed the customer to customize terminal types and the like, and define
a few other run-time parameters.  Assemble, load with the .REL files, and then
"Cello!", your very own monitor!

Rich Alderson			Last LOTS Tops-20 Systems Programmer, 1984-1991
				Current maintainer, MIT TECO EMACS (v. 170)
				Customer Advocacy, XKL LLC, 1993-now
last name @ XKL dot COM		Chief systems administrator, XKL LLC, 1998-now


Article 6358 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!vnetnews.value.net!nntp.primenet.com!nntp.gctr.net!europa.netcrusader.net!195.27.83.146!news-FFM2.ecrc.net!news.mindspring.net!newsfeed.mindspring.net!firehose.mindspring.com!207.69.128.180!alderson
From: alderson@netcom2.netcom.com (Richard M. Alderson III)
Newsgroups: alt.sys.pdp10
Subject: Re: TOPS-20's install tape...
Date: 18 Feb 2000 01:19:11 GMT
Organization: NETCOM On-line services
Lines: 62
Message-ID: <ALDERSON.00Feb17171911@netcom2.netcom.com>
References: <Pine.LNX.4.10.10002121826520.13983-100000@bony.umtec.com>
Reply-To: alderson@netcom.com
NNTP-Posting-Host: c7.b7.09.66
X-Server-Date: 18 Feb 2000 01:23:16 GMT
In-reply-to: Daniel Seagraves's message of Sat, 12 Feb 2000 18:30:22 -0600
Xref: news3.best.com alt.sys.pdp10:6358

In article <Pine.LNX.4.10.10002121826520.13983-100000@bony.umtec.com>
Daniel Seagraves <root@bony.umtec.com> writes:

>When I say G(ET FILE) MTA0: to the miniexec prompt (MX> from MONITR.EXE),
>is TOPS20 going to try getting something from a DUMPER saveset, or just
>read the next file on the tape into memory?  Or does it do something else?

The layout on DEC Tops-20 installation tapes (and emergency backup tapes, for
the same reason) is as follows:

	MONITR.EXE
	EXEC.EXE
	DLUSER.EXE
	<DLUSER data set>
	DUMPER.EXE
	<DUMPER save set>

When you have booted from the tape, and are in the Mini-EXEC, your G MTA0:
will bring in the EXEC, and start you up as OPERATOR.

The DEC documentation then tells you to do the following:

	@GET MTA0:
	@START
	DLUSER> STRUCTURE PS:
	DLUSER> LOAD MTA0:
	DLUSER> QUIT
	@GET MTA0:
	@START
	DUMPER>

but that loses due to a bug in DLUSER:  It tests a byte with BIN%, then uses
the BKJFN% JSYS to "unread" the byte--but BKJFN% is only defined to work with
*disk* files.  Better to do the following:

	@COPY MTA0: DLUSER.EXE
	@COPY MTA0: USERS.TXT
	@COPY MTA0: DUMPER.EXE
	@DLUSER
	DLUSER> ST PS:
	DLUSER> LOAD USERS.TXT
	DLUSER> QUIT
	@DUMPER

(I discovered this lossage years ago, while working at Stanford.  I don't know
how long it had been broken.)

XKL, as it happens, made the DUMPER functionality to put DDBs (Directory Data
Blocks) into the saveset really work, so we stopped using the DLUSER program.
Our tapes now look like

	MONITR.EXE
	EXEC.EXE
	DUMPER.EXE
	<enhanced DUMPER saveset>

but none of our customers saw that improvement.

Rich Alderson			Last LOTS Tops-20 Systems Programmer, 1984-1991
				Current maintainer, MIT TECO EMACS (v. 170)
				Customer Advocacy, XKL LLC, 1993-now
last name @ XKL dot COM		Chief systems administrator, XKL LLC, 1998-now


Article 6366 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!feed1.news.rcn.net!rcn!not-for-mail
From: "Alan H. Martin" <AMartin@MA.UltraNet.Com>
Newsgroups: alt.sys.pdp10
Subject: Re: Anyone have a list of TOPS-20 commands?
Date: Fri, 18 Feb 2000 21:12:04 -0500
Lines: 35
Message-ID: <38ADFBF4.81CEDD8@MA.UltraNet.Com>
References: <38823BB8.EE5E357D@bellatlantic.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Trace: QXPbdFqCiObKflL3O7H+uDmjsZcrES64xA14ExChprw=
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 19 Feb 2000 02:12:45 GMT
To: s2521@bellatlantic.net
X-Accept-Language:  en,en-US,en-GB,es
X-Mailer:  Mozilla 4.7 [en] (Win95; U)
Xref: news3.best.com alt.sys.pdp10:6366

me wrote:
> 
> Does anyone have a list of the TOPS-20 command processor valid
> commands?  I could kill myself for throwing mine away years ago.
 
 XKL Systems TOAD, TOPS-20 Monitor 7(102560)-1
...
Toad@ ? Command, one of the following:
 ACCESS        ADVISE         APPEND         ARCHIVE        ASSIGN
 ATTACH        BACKSPACE      BLANK          BREAK          BUILD
 CANCEL        CD             CLOSE          COMPILE        CONNECT
 CONTINUE      COPY           CREATE         CREF           CSAVE
 DAYTIME       DDT            DEASSIGN       DEBUG          DECLARE
 DEFINE        DELETE         DEPOSIT        DETACH         DIRECTORY
 DISABLE       DISCARD        DISMOUNT       DO             ECHO
 EDIT          ENABLE         END-ACCESS     EOF            ERUN
 EXAMINE       EXECUTE        EXPUNGE        FDIRECTORY     FINGER
 FORK          FREEZE         GET            HELP           HISTORY
 INFORMATION   KEEP           KJOB           KMIC           LOAD
 LOGOUT        LWPRINT        MAIL           MAP            MERGE
 MODIFY        MOUNT          ORIGINAL       POP            PRESERVE
 PRINT         PUSH           QDIRECTORY     R              RDIRECTORY
 RECEIVE       REDO           REENTER        REFUSE         REMARK
 RENAME        RESET          RETRIEVE       REWIND         RUN
 SAVE          SEND           SET            SKIP           START
 SUBMIT        SYSTAT         TAKE           TALK           TDIRECTORY
 TERMINAL      TRANSLATE      TYPE           UNATTACH       UNDECLARE
 UNDELETE      UNKEEP         UNLOAD         UNMAP          UPDATE
 VDIRECTORY    WDIRECTORY
  or system program name
Toad@
				Enjoy,
				/AHM
-- 
Alan Howard Martin				AMartin@MA.UltraNet.Com


Article 6826 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!newsfeed.berkeley.edu!logbridge.uoregon.edu!news.u.washington.edu!Tomobiki-Cho.CAC.Washington.EDU!mrc
From: Mark Crispin <mrc@CAC.Washington.EDU>
Newsgroups: alt.sys.pdp10
Subject: Re: What's BUGHLT DDMPNR?
Date: Fri, 3 Mar 2000 13:37:33 -0800
Organization: Networks & Distributed Computing
Lines: 29
Message-ID: <Pine.NXT.4.30.0003031331020.7558-100000@Tomobiki-Cho.CAC.Washington.EDU>
References: <Pine.LNX.4.10.10003031025420.22167-100000@bony.umtec.com>
NNTP-Posting-Host: tomobiki-cho.cac.washington.edu
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Trace: nntp1.u.washington.edu 952119456 14158 (None) 140.142.17.35
X-Complaints-To: help@cac.washington.edu
NNTP-Posting-User: gargoyle
To: Daniel Seagraves <root@bony.umtec.com>
In-Reply-To: <Pine.LNX.4.10.10003031025420.22167-100000@bony.umtec.com>
Xref: news3.best.com alt.sys.pdp10:6826

On Fri, 3 Mar 2000, Daniel Seagraves wrote:
> From TOPS-20.  Where's a list of BUGHLTs?

"DDMP Not Run for too long"

This bughlt comes from the scheduler.

It used to be called J0NRUN (Job 0 Not RUN for too long).

DDMP is the system fork (job 0 process 0) which, among other things, keeps
the disk updated from changes made in the virtual memory system.  It's
scheduled just like any other fork.  If it hasn't looped back to update
its "last run" timer, either it is hung (maybe the swapping disk went
offline) or the system is taking so many interrupts that processes aren't
running.  I/O bus devices such as the AN20 tended to do that.

If you have EDDT loaded, you can try proceeding the system by jumping
around the test, particularly if you know the cause of the problem and
have fixed it.

Bughlts are documented in the BUGS.MAC in the monitor sources.  Any V4
monitor or later had BUGS.MAC.

-- Mark --

* RCW 19.190 notice: This email address is located in Washington State.	*
* Unsolicited commercial email may be billed $500 per message.		*
Science does not emerge from voting, party politics, or public debate.



Article 8222 of alt.sys.pdp10:
Path: news3.best.com!news1.best.com!newsfeed.mathworks.com!europa.netcrusader.net!194.176.220.129!newsfeed.icl.net!news.algonet.se!newsfeed1.telenordia.se!algonet!uab.ericsson.se!news.sics.se!not-for-mail
From: Per Danielsson <pd@sics.se>
Newsgroups: alt.sys.pdp8,alt.sys.pdp10,alt.folklore.computers
Subject: Re: Replacing the EXEC in TOPS-20 (was Re: ooh, a *real* flamewar:)
Date: Tue, 18 Apr 2000 11:45:15 +0200
Organization: Swedish Institute of Computer Science
Lines: 16
Message-ID: <38FC2EAB.E005B2F8@sics.se>
References: <AtP94.8925$7S.6211@news20.bellglobal.com>   <38da49e6_2@news.wizvax.net> <8beb7i$707$1@citadel.in.taronga.com>   <38DB0F01.C677EB27@netinsight.se>   <8bg09v$1bba$1@citadel.in.taronga.com> <8bjeei$1bk$1@199.201.191.2> <38F94687.95C01347@MA.UltraNet.Com> <38FB2218.D51AC6CB@sics.se> <Pine.NXT.4.30.0004171408420.21166-100000@Tomobiki-Cho.CAC.Washington.EDU>
NNTP-Posting-Host: libra.sics.se
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Trace: not.sics.se 956051098 15071 193.10.135.5 (18 Apr 2000 09:44:58 GMT)
X-Complaints-To: usenet@not.sics.se
NNTP-Posting-Date: 18 Apr 2000 09:44:58 GMT
X-Mailer: Mozilla 4.5 [en] (X11; I; SunOS 5.6 sun4u)
X-Accept-Language: en
Xref: news3.best.com alt.sys.pdp8:5306 alt.sys.pdp10:8222 alt.folklore.computers:155278

Mark Crispin wrote:

> 100 lines???  What was in that program?  I count a maximum of about 20
> lines, including the filename parsing...

The main code is about 35 lines. The rest is mostly argument blocks for CRJOB
and COMND (and GTJFN). The code is at
<URL:http://www.sics.se/~pd/pdp10/TOPFRK.MAC>. It could probably be improved.
If a minumum of lines is a good thing it could definitely be improved.

--
Per Danielsson                          pd@sics.se
Swedish Institute of Computer Science, PO Box 1263, SE-164 29 KISTA, SWEDEN
N59.24.20, E17.56.53                    "Why not? Yeah."




Article 8511 of alt.sys.pdp10:
Path: news3.best.com!news1.best.com!uninett.no!CensurBot.NetScum.Dk!newsfeedZ.netscum.dQ!netscum.int!news.algonet.se!algonet!cpk-news-hub1.bbnplanet.com!news.gtei.net!firehose.mindspring.com!news.mindspring.com!alderson
From: alderson@netcom2.netcom.com (Richard M. Alderson III)
Newsgroups: alt.sys.pdp11,vmsnet.pdp-11,comp.os.rsts,alt.sys.pdp10
Subject: Re: PDP-11 9-Track Tapes
Date: 09 May 2000 22:41:30 GMT
Organization: NETCOM On-line services
Lines: 27
Distribution: inet
Message-ID: <ALDERSON.00May9154130@netcom2.netcom.com>
References: <8epj68$4nf$1@info.cs.uofs.edu> <3910228B.49615006@trailing-edge.com>
	<8eq82h$qdu$1@newsmaster.cc.columbia.edu>
	<3910717C.768C59DE@trailing-edge.com>
Reply-To: alderson@netcom.com
NNTP-Posting-Host: c7.b7.09.66
X-Server-Date: 9 May 2000 22:41:49 GMT
In-reply-to: Tim Shoppa's message of Wed, 03 May 2000 18:35:40 -0400
Xref: news3.best.com alt.sys.pdp11:6772 vmsnet.pdp-11:9806 comp.os.rsts:694 alt.sys.pdp10:8511

In article <3910717C.768C59DE@trailing-edge.com> Tim Shoppa
<shoppa@trailing-edge.com> writes:

> TOPS-20 never was good at dealing with arbitrary tape formats.  If someone
> wants to correct me, and show me how to make a "tape image" program under
> TOPS-20, I'd gladly listen.  But I've had TOPS-20 system programmers tell me
> that if you do unbuffered I/O, only core-dump format is possible, which means
> converting the data, and if you use buffered I/O, you can't have a buffer big
> enough to handle the largest records in core-dump format.

This is all true.

The problem is that tape buffers are taken from the Job Status Block, a monitor
data structure, and are limited to 20 pages.  A DUMPER-format tape written at
the maximum blocking factor comes out to 24 pages per block if read back in as
8-bit bytes, so you can't get an arbitrary tape-copy program to work on Tops-20
due to size limitations.

I once set out to create a version of Tops-20 with additional space in the JSB
for tape buffers, to at least allow the copying of maximally sized DUMPER tapes
(so that I could have more than one copy of a bunch of stuff).  It's hard, a
lot harder than it ought to be...

Rich Alderson			Last LOTS Tops-20 Systems Programmer, 1984-1991
				Current maintainer, MIT TECO EMACS (v. 170)
				Customer Advocacy, XKL LLC, 1993-2000
last name @ XKL dot COM		Chief systems administrator, XKL LLC, 1998-now


Article 8803 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!news.maxwell.syr.edu!arclight.uoregon.edu!news.tufts.edu!uunet!ffx.uu.net!spool0.news.uu.net!reader0.news.uu.net!not-for-mail
Message-ID: <392931A1.167E4AC7@trailing-edge.com>
Date: Mon, 22 May 2000 13:09:53 -0400
From: Tim Shoppa <shoppa@trailing-edge.com>
Organization: Trailing Edge Technology
X-Mailer: Mozilla 3.03Gold (X11; I; OpenVMS V7.0     DEC 3000 Model 300L)
MIME-Version: 1.0
Newsgroups: alt.sys.pdp10,alt.folklore.computers
Subject: TOPS-20 V4.0 tapes for the PDP-10 archives
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Lines: 21
NNTP-Posting-Host: 63.73.218.130
X-Trace: reader0.news.uu.net 959015395 4089 63.73.218.130
Xref: news3.best.com alt.sys.pdp10:8803 alt.folklore.computers:157604

Good news -

	The "INSTALL" and "DISTRIBUTION" tapes for KS10 (2020)
TOPS-20 V4 arrived here today.  ZIPped exact tape images and
the individual files extracted for browsing will be available,
for those eligible under the DEC 36-bit hobbyist license, at

  http://pdp-10.trailing-edge.com/

sometime later today.

Oh, happy day!  The tapes, almost 20 years old now, read perfectly,
despite some worries by the owner about less-than-ideal storage
conditions.  There was a slight bit of gummy tape syndrome on the
second tape, but it was very very mild.

-- 
 Tim Shoppa                        Email: shoppa@trailing-edge.com
 Trailing Edge Technology          WWW:   http://www.trailing-edge.com/
 7328 Bradley Blvd                 Voice: 301-767-5917
 Bethesda, MD, USA 20817           Fax:   301-767-5927


Article 4682 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news2.best.com!news.maxwell.syr.edu!newsxfer.eecs.umich.edu!panix!news.panix.com!not-for-mail
From: Rich Alderson <alderson+news@panix.com>
Newsgroups: alt.sys.pdp10
Subject: Re: tops-20 on ts10 install probs log
Date: 28 Apr 2001 17:25:25 -0400
Organization: Systems Administration, XKL LLC, Redmond WA 98052
Lines: 32
Sender: alderson+news@panix3.panix.com
Message-ID: <mddd79wogxm.fsf@panix3.panix.com>
References: <988479590.755499@dns2.serv.net>
NNTP-Posting-Host: panix3.panix.com
X-Trace: news.panix.com 988493125 28804 166.84.0.228 (28 Apr 2001 21:25:25 GMT)
X-Complaints-To: abuse@panix.com
NNTP-Posting-Date: 28 Apr 2001 21:25:25 GMT
X-Newsreader: Gnus v5.7/Emacs 20.7
Xref: nntp1.ba.best.com alt.sys.pdp10:4682

Patrick Scheible <kkt@itchy.serv.net> writes:

> Here's a log of my attempt to install TOPS-20 v.4.1 on the ts10.  As you
> can see, it does a lot, but there's still some problems.
> 
> I'm using the TS10 from the tar file, not the very latest from CVS.
> 
> The first big question is, when I run dluser, why does it come back with
> a DUMPER prompt?  Is this a problem with the tape?

The problem is that you did not rewind the tape before doing the COPY commands,
so you have saved DLUSER as 2020-MONMED, the DLUSER data file as EXEC, and
DUMPER as DLUSER.

> And, second, what are the sequence errors when I tried to restore using
> DUMPER?

Try getting the files right, and see if these recur.

> Smaller questions are:  

> What's the format of the vdir command output, especially the middle
> numbers 32 16384(36) in this example:

>  DLUSER.EXE.1;P777752      32 16384(36)  22-Apr-90 12:49:09 OPERATOR

<filename>.<file extension>.<generation>;<protection> <file size in pages>
	<file byte count>(<file byte size>) <date-and-time of write> <writer>

-- 
Rich Alderson                                          alderson+news@panix.com
  "You get what anybody gets.  You get a lifetime."  --Death, of the Endless


Article 4694 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news1.best.com!newshub.sdsu.edu!news-spur1.maxwell.syr.edu!news.maxwell.syr.edu!newsfeed.slurp.net!not-for-mail
From: Patrick Scheible <kkt@itchy.serv.net>
Subject: Re: tops-20 on ts10 install probs log
Newsgroups: alt.sys.pdp10
Reply-To: kkt@serv.net
User-Agent: tin/pre-1.4-19990413 ("Endemoniada") (UNIX) (FreeBSD/3.2-RELEASE (i386))
Message-ID: <988791670.885387@dns2.serv.net>
Cache-Post-Path: dns2.serv.net!unknown@itchy.serv.net
X-Cache: nntpcache 2.4.0b2 (see http://www.nntpcache.org/)
Lines: 544
Date: Wed, 02 May 2001 07:53:25 GMT
NNTP-Posting-Host: 199.201.191.2
X-Trace: newsfeed.slurp.net 988790005 199.201.191.2 (Wed, 02 May 2001 02:53:25 CDT)
NNTP-Posting-Date: Wed, 02 May 2001 02:53:25 CDT
Xref: nntp1.ba.best.com alt.sys.pdp10:4694

Here's the latest installment.

The file sizes were a great help, Rich.  It seems there are two
additional files at the beginning of the 4.1 installation tape, so it
looks like this:

file1
file2
monitr
exec
dluser
users.txt
dumper
first save set
etc.

Dluser seemed to work as expected.  Now I'm up to Dumper, which gives
a device error when I attempt to restore.

Also, I got myself logged out, and it wants a password to get back
into the operator account.  What is the password, or how do I set it
the first time I logged in?

Should the pseudo-hard disk file rpa0: be bootable after copying out
the files?  It says device not bootable.

Here's the log.

-- Patrick

ts10> touch tops20-41.dsk
ts10> ./ks10 -f ks10-t20.cfg
Welcome to TS10 Emulator v0.7 (Alpha)
Unit uba: had been created.
Addr=776700 Mask=000077 IntBR=6 IntVec=254
Addr=772440 Mask=000037 IntBR=6 IntVec=224
Device RPA0: had been created.
Device RPA1: had been created.
Device MTA: had been created.
Device MTA0: had been created.
Device MTA1: had been created.
Device MTB: had been created.
Device MTB0: had been created.
Device MTB1: had been created.
Unit rha0 had been initialized.
Unit rpa0 had been initialized.
Unit rha1 had been initialized.
Unit mta had been initialized.
Unit mtb had been initialized.
Unit 0 dType RP06
Unit rpa0 had been attached with 'tops20-41.dsk' file.
Unit 0 dType TU45
Unit mta0 had been attached with '../../pdp10-tapes/bb-d867e-bm_tops20_v41_2020_instl.tap' file.
Debug Console had been turned on.
TS10> boot mta0:
Booting MTA0...
Now running...

MTBOOT>/l

MTBOOT>/g143


[FOR ADDITIONAL INFORMATION TYPE "?" TO ANY OF THE FOLLOWING QUESTIONS.]

DO YOU WANT TO REPLACE THE FILE SYSTEM ON THE PUBLIC STRUCTURE? Y

DO YOU WANT TO DEFINE THE PUBLIC STRUCTURE?
? ANSWER "Y" OR "N"  Y

HOW MANY PACKS ARE IN THIS STRUCTURE:
? NULL ANSWER NOT ALLOWED, RETYPE ANSWER: 1

ON WHICH "CHANNEL,UNIT" IS LOGICAL PACK # 0 MOUNTED:
? NULL ANSWER NOT ALLOWED, RETYPE ANSWER: 0,0

DO YOU WANT THE DEFAULT SWAPPING SPACE?
? ANSWER "Y" OR "N"  Y

DO YOU WANT THE DEFAULT SIZE FRONT END FILE SYSTEM? Y

DO YOU WANT THE DEFAULT SIZE BOOTSTRAP AREA? Y

[STRUCTURE "PS" SUCCESSFULLY DEFINED]

[PS MOUNTED]
?PS UNIT 0 HAS NO BAT BLOCKS.
DO YOU WANT TO WRITE A SET OF PROTOTYPE BAT BLOCKS? Y

%%NO SETSPD

System restarting, wait...
ENTER CURRENT DATE AND TIME:

? INVALID, PLEASE TRY AGAIN IN FORM MMM-DD-YY HHMM:

? INVALID, PLEASE TRY AGAIN IN FORM MMM-DD-YY HHMM:

? INVALID, PLEASE TRY AGAIN IN FORM MMM-DD-YY HHMM: MAY-02-90 1204

YOU HAVE ENTERED WEDNESDAY, 2-MAY-1990 12:04PM,
 IS THIS CORRECT (Y,N)
 (Y OR N) N

ENTER CURRENT DATE AND TIME:

? INVALID, PLEASE TRY AGAIN IN FORM MMM-DD-YY HHMM: MAY-02-90 0004

YOU HAVE ENTERED WEDNESDAY, 2-MAY-1990 12:04AM,
 IS THIS CORRECT (Y,N)
 (Y OR N) Y
WHY RELOAD? NEW

<SYSTEM>ACCOUNTS-TABLE.BIN NOT FOUND - ACCOUNT VALIDATION IS DISABLED

RUNNING DDMP


NO SYSJOB
NO EXEC
MX>
MX>
MX>GET FILE MTA0:

INTERRUPT AT 0
MX>
MX>GET FILE MTA0:

********************
*BUGINF "OVRDTA" at  2-May-90 00:06:03
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
MX>
MX>
MX>
MX>
MX>
MX>START

 TOPS-20 Command processor 5.1(1354)

********************
*BUGINF "OVRDTA" at  2-May-90 00:06:22
*PHYSIO - OVERDUE TRANSF
@
@
@ER ABORTED
*Additional data: 1, 0, 0
********************
ENA
$
$REWIND MTA0:
$
$COPY MTA0: F1
 MTA0: => F1..1 [OK]
$
$COPY MTA0: F2
 MTA0: => F2..1 [OK]
$
$COPY MTA0: F3
 MTA0: => F3..1 [OK]
$
$
$
$COPY MTA0: F4
 MTA0: => F4..1 [OK]
$
$COPY MTA0: F5
 MTA0: => F5..1 [OK]
$
$COPY MTA0: F6
 MTA0: => F6..1 [OK]
$
$COPY MTA0: F7
 MTA0: => F7..1 [OK]
$
$VDIR

   PS:<OPERATOR>
 F1..1;P777700             12 6144(36)    2-May-90 00:07:06 OPERATOR
 F2..1;P777700              6 3072(36)    2-May-90 00:07:15 OPERATOR
 F3..1;P777700            326 166912(36)  2-May-90 00:07:19 OPERATOR
 F4..1;P777700            102 52224(36)   2-May-90 00:07:32 OPERATOR
 F5..1;P777700              7 3584(36)    2-May-90 00:07:42 OPERATOR
 F6..1;P777700              1 155(36)     2-May-90 00:07:52 OPERATOR
 F7..1;P777700             32 16384(36)   2-May-90 00:07:57 OPERATOR

 Total of 486 pages in 7 files
$
$
$
$R F5
?CANNOT FIND ERROR MESSAGE FILE
??Error message not found for error 600104 - "F5"
$
$VDIR <SUBSYS>
%CANNOT FIND ERROR MESSAGE FILE
??Error message not found for error 600114 - <SUBSYS>
$
$REWIND MTA0:
$
$COPY MTA0: FOO
 MTA0: => FOO..1 [OK]
$
$COPY MTA0: F00
 MTA0: => F00..1 [OK]
$
$COPY MTA0: <SYSTEM>MONITR.EXE
 MTA0: => <SYSTEM>MONITR.EXE.1 [OK]
$
$COPY MTA0: <SYSTEM>MONITR XXX
$COPY MTA0: <SYSTEM>EXEC.EXE
 MTA0: => <SYSTEM>EXEC.EXE.1 [OK]
$
$COPY MTA0: <SUBSYS>DLUSER.EXE
 MTA0: => <SUBSYS>DLUSER.EXE.1 [OK]
$
$COY MTA0: < XXX
$COPY MTA0: USERS.TXT
 MTA0: => USERS.TXT.1 [OK]
$
$COY M XXX
$COPY MTA0: <SUBSYS>DUMPER.EXE
 MTA0: => <SUBSYS>DUMPER.EXE.1 [OK]
$
$VDIR <SUBSYS>

   PS:<SUBSYS>
 DLUSER.EXE.1;P777752       7 3584(36)    2-May-90 00:13:40 OPERATOR
 DUMPER.EXE.1;P777752      32 16384(36)   2-May-90 00:15:26 OPERATOR

 Total of 39 pages in 2 files
$
$VDIR <SYSTEM>

   PS:<SYSTEM>
 ERROR.SYS.1;P777752        1 144(36)     2-May-90 00:06:22 OPERATOR
 EXEC.EXE.1;P777752       102 52224(36)   2-May-90 00:12:59 OPERATOR
 MONITR.EXE.1;P777752     326 166912(36)  2-May-90 00:12:22 OPERATOR

 Total of 429 pages in 3 files
$
$
$DLUSER
DLUSER>
DLUSER>STRUCTURE PS:
DLUSER>
DLUSER>LOAD USERS.TXT

DONE.
DLUSER>
DLUSER>EXIT
$
$DUMPER
DUMPER>
DUMPER>TAPE MTA0:
DUMPER>
DUMPER>RESTORE PS:<*>*.*.*

?Device error, possible incorrect density.
  Type <CR> to try again.

********************
*BUGINF "OVRDTA" at  2-May-90 00:20:21
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
?Sequence error, record 2, continuing.
%Tape does not start with header, continuing...

********************
*BUGINF "OVRDTA" at  2-May-90 00:21:32
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************

********************
*BUGINF "OVRDTA" at  2-May-90 00:21:50
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
?Device error, possible incorrect density.
  Type <CR> to try again.

********************
*BUGINF "OVRDTA" at  2-May-90 00:24:44
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************

********************
*BUGINF "OVRDTA" at  2-May-90 00:25:02
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
?Device error, possible incorrect density.
  Type <CR> to try again.

********************
*BUGINF "OVRDTA" at  2-May-90 00:25:25
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************

********************
*BUGINF
?Device error, possible incorrect density.
  Type <CR> to try again.
 "OVRDTA" at  2-May-90 00:25:43
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
^C
$
$
********************
*BUGINF "OVRDTA" at  2-May-90 00:26:10
*PHYSIO - OVERDUE TRANSFER ABORTERED
*Additional data: 1, 0, 0
********************
WIND^H^H^H^H XXX
$REWIND MTA0:
?Device MTA0: open on JFN 4
%Close JFN?
 4   MTA0:   [OK]
$
$DUMPER
DUMPER>
DUMPER>TAPE MTA0:
DUMPER>
DUMPER>DENSITY 1600-DPI
?CANNOT FIND ERROR MESSAGE FILE
DUMPER>
DUMPER>? command name one of the following:
 ABEFORE       ACCOUNT        ASINCE         BEFORE         CHECK
 CHECKSUM      CONTINUE       CREATE         DENSITY        DIRECTORIES
 EOT           EXIT           FILES          FORMAT         HELP
 INDUSTRY      INITIAL        INTERCHANGE    LIST           MBEFORE
 MSINCE        NO             PARITY         PRINT          PROTECTION
 QUIT          RESTORE        RETRIEVE       REWIND         SAVE
 SET           SILENCE        SINCE          SKIP           SSNAME
 SUPERSEDE     TAPE           UNLOAD
DUMPER>
DUMPER>
DUMPER>
DUMPER>
DUMPER>DENSITY 1600-BPI
DUMPER>
DUMPER>RESTORE PS:<*>*.*.*
 
?Device error, possible incorrect density.
  Type <CR> to try again.
 
********************
*BUGINF "OVRDTA" at  2-May-90 00:29:23
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
?Device error, possible incorrect density.
  Type <CR> to try again.
 
********************
*BUGINF "OVRDTA" at  2-May-90 00:29:40
*PHYSIO - OVERDUE TRANSFER ABORTED
?Device error, possible incorrect density.
  Type <CR> to try again.
 
*Additional data: 1, 0, 0
********************
 
********************
*BUGINF "OVRDTA" at  2-May-90 00:29:57
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
 
********************
*BUGINF "OVRDTA" at  2-May-90 00:30:15
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
?Device error, possible incorrect density.
  Type <CR> to try again.
^C
$
$
********************
*BUGINF "OVRDTA" at  2-May-90 00:26:10
*PHYSIO - OVERDUE TRANSFER ABORTERED
*Additional data: 1, 0, 0
********************
WIND^H^H^H^H XXX
$REWIND MTA0:
?Device MTA0: open on JFN 4
%Close JFN?
 4   MTA0:   [OK]
$
$DUMPER
DUMPER>
DUMPER>TAPE MTA0:
DUMPER>
DUMPER>DENSITY 1600-DPI
?CANNOT FIND ERROR MESSAGE FILE
DUMPER>
DUMPER>? command name one of the following:
 ABEFORE       ACCOUNT        ASINCE         BEFORE         CHECK
 CHECKSUM      CONTINUE       CREATE         DENSITY        DIRECTORIES
 EOT           EXIT           FILES          FORMAT         HELP
 INDUSTRY      INITIAL        INTERCHANGE    LIST           MBEFORE
 MSINCE        NO             PARITY         PRINT          PROTECTION
 QUIT          RESTORE        RETRIEVE       REWIND         SAVE
 SET           SILENCE        SINCE          SKIP           SSNAME
 SUPERSEDE     TAPE           UNLOAD
DUMPER>
DUMPER>
DUMPER>
DUMPER>
DUMPER>DENSITY 1600-BPI
DUMPER>
DUMPER>RESTORE PS:<*>*.*.*

?Device error, possible incorrect density.
  Type <CR> to try again.

********************
*BUGINF "OVRDTA" at  2-May-90 00:29:23
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
?Device error, possible incorrect density.
  Type <CR> to try again.

********************
*BUGINF "OVRDTA" at  2-May-90 00:29:40
*PHYSIO - OVERDUE TRANSFER ABORTED
?Device error, possible incorrect density.
  Type <CR> to try again.

*Additional data: 1, 0, 0
********************

********************
*BUGINF "OVRDTA" at  2-May-90 00:29:57
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************

********************
*BUGINF "OVRDTA" at  2-May-90 00:30:15
*PHYSIO - OVERDUE TRANSFER ABORTED
*Additional data: 1, 0, 0
********************
?Device error, possible incorrect density.
  Type <CR> to try again.
^C
$
$
********************
*BUGINF "OVRDTA" at  2-May-90 00:30:43
*PHYSIO - OVERDUE TRANSFER ABORTELOD
*Additional data: 1, 0, 0
********************
GOUT
 <OPERATOR> Over permanent storage allocation by 255 page(s).
Killed Job 1, User OPERATOR, Account OPERATOR, TTY 42,
  at  2-May-90 00:34:19,  Used 0:00:22 in 0:29:22

 TOPS-2020 SMALL SYSTEM, TOPS-20 Monitor 4.1(5471)
@
@
@^C
@UP
?Unrecognized command - CANNOT FIND ERROR MESSAGE FILE
??Error message not found for error 602046 - "UP"
@UPTIME
?Unrecognized command - CANNOT FIND ERROR MESSAGE FILE
??Error message not found for error 602046 - "UPTIME"
^C
@LOGIN OPERATOR
?Incorrect password
@
@LOGIN OPERATOR
?Incorrect password
@
@^Z
?Unrecognized command - CANNOT FIND ERROR MESSAGE FILE
??Error message not found for error 602047 - "
 Autologout
Killed Job 1, TTY 42,
  at  2-May-90 00:39:23,  Used 0:00:01 in 0:04:33

 TOPS-2020 SMALL SYSTEM, TOPS-20 Monitor 4.1(5471)
^C
@
@enable


finger

^C^C^C
^Z
Suspended
ts10> kill %1
[1]    Terminated                    ./ks10 -f ks10-t20.cfg
ts10> ./ks10 -f ks10-t20.cfg
Welcome to TS10 Emulator v0.7 (Alpha)
Unit uba: had been created.
Addr=776700 Mask=000077 IntBR=6 IntVec=254
Addr=772440 Mask=000037 IntBR=6 IntVec=224
Device RPA0: had been created.
Device RPA1: had been created.
Device MTA: had been created.
Device MTA0: had been created.
Device MTA1: had been created.
Device MTB: had been created.
Device MTB0: had been created.
Device MTB1: had been created.
Unit rha0 had been initialized.
Unit rpa0 had been initialized.
Unit rha1 had been initialized.
Unit mta had been initialized.
Unit mtb had been initialized.
Unit 0 dType RP06
Unit rpa0 had been attached with 'tops20-41.dsk' file.
Unit 0 dType TU45
Unit mta0 had been attached with '../../pdp10-tapes/bb-d867e-bm_tops20_v41_2020_instl.tap' file.
Debug Console had been turned on.
TS10> boot rpa0:
Booting RPA0...
[Reading first HOM block...]
Device RPA0: Not bootable
TS10> boot mta0:
Booting MTA0...
Now running...
 
 
 
;; no response
^Z
Suspended
ts10> kill %1
[1]    Terminated                    ./ks10 -f ks10-t20.cfg
ts10>


Article 4696 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news1.best.com!newshub.northeast.verio.net!verio!newspeer.monmouth.com!newshub2.home.com!news.home.com!news.maxwell.syr.edu!news-hog.berkeley.edu!ucberkeley!tethys.csu.net!nntp.csufresno.edu!sn-xit-01!sn-post-01!supernews.com!corp.supernews.com!not-for-mail
From: Timothy Stark <sword7@grace.speakeasy.net>
Newsgroups: alt.sys.pdp10
Subject: Re: tops-20 on ts10 install probs log
Date: Wed, 02 May 2001 14:19:25 -0000
Message-ID: <tf05rd83qmbrf5@corp.supernews.com>
References: <988791670.885387@dns2.serv.net>
User-Agent: tin/1.4.4-20000803 ("Vet for the Insane") (UNIX) (Linux/2.2.19 (i686))
X-Complaints-To: newsabuse@supernews.com
Lines: 21
Xref: nntp1.ba.best.com alt.sys.pdp10:4696

Pat:

It looks like that you have a problem with stalling CTY device.  You need
the latest version to resolve the problem.  I will work on it with
overdue errors that your log showed that.

Also, because I do not have a copy of software installation guide with
TOPS-20 v4.1, I was unable to debug it for TS10 emulator until now.
Thank you for let us know about your log file.  I will look into that and
resolve a problem with overdue errors according to your log file.

Thank you!

-- Tim Stark

-- 
Timothy Stark	<><	Inet: sword7@speakeasy.org
--------------------------------------------------------------------------
"For God so loved the world, that he gave his only begotten Son, that 
whosoever believeth in him should not perish, but have everlasting life.
Amen." -- John 3:16 (King James Version Bible)


Article 4700 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news1.best.com!newsfeed.mathworks.com!panix!news.panix.com!not-for-mail
From: Rich Alderson <alderson+news@panix.com>
Newsgroups: alt.sys.pdp10
Subject: Re: tops-20 on ts10 install probs log
Date: 02 May 2001 15:31:52 -0400
Organization: Systems Administration, XKL LLC, Redmond WA 98052
Lines: 36
Sender: alderson+news@panix3.panix.com
Message-ID: <mddg0ensg2f.fsf@panix3.panix.com>
References: <988791670.885387@dns2.serv.net>
NNTP-Posting-Host: panix3.panix.com
X-Trace: news.panix.com 988831911 27737 166.84.0.228 (2 May 2001 19:31:51 GMT)
X-Complaints-To: abuse@panix.com
NNTP-Posting-Date: 2 May 2001 19:31:51 GMT
X-Newsreader: Gnus v5.7/Emacs 20.7
Xref: nntp1.ba.best.com alt.sys.pdp10:4700

Patrick Scheible <kkt@itchy.serv.net> writes:

> The file sizes were a great help, Rich.  It seems there are two additional
> files at the beginning of the 4.1 installation tape, so it looks like this:

> file1
> file2
> monitr
> exec
> dluser
> users.txt
> dumper
> first save set
> etc.

Umm.  I vaguely remember something about this (I've never worked on a KS10).
I think the installation tape includes loadable code for the 8080 frontend,
and that's what the two extra files would be, at a guess.

> Dluser seemed to work as expected.  Now I'm up to Dumper, which gives
> a device error when I attempt to restore.

> Also, I got myself logged out, and it wants a password to get back
> into the operator account.  What is the password, or how do I set it
> the first time I logged in?

The default operator password on a newly installed Tops-20 system is "DEC-20".

> Should the pseudo-hard disk file rpa0: be bootable after copying out
> the files?  It says device not bootable.

I guess Tim Stark will take a look at this.

-- 
Rich Alderson                                          alderson+news@panix.com
  "You get what anybody gets.  You get a lifetime."  --Death, of the Endless


Article 4702 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news1.best.com!newshub.sdsu.edu!newsfeed.cs.wisc.edu!loops.cs.wisc.edu!uchinews!logbridge.uoregon.edu!news.u.washington.edu!140.142.17.34.MISMATCH!news.u.washington.edu!Tomobiki-Cho.CAC.Washington.EDU!mrc
From: Mark Crispin <mrc@CAC.Washington.EDU>
Newsgroups: alt.sys.pdp10
Subject: Re: tops-20 on ts10 install probs log
Date: Wed, 2 May 2001 15:07:18 -0700
Organization: Networks & Distributed Computing
Lines: 19
Message-ID: <Pine.NXT.4.40.0105021503410.25186-100000@Tomobiki-Cho.CAC.Washington.EDU>
References: <988791670.885387@dns2.serv.net>
NNTP-Posting-Host: tomobiki-cho.cac.washington.edu
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Trace: nntp1.u.washington.edu 988841242 15452 (None) 140.142.17.39
X-Complaints-To: help@cac.washington.edu
NNTP-Posting-User: pat
To: kkt@serv.net
In-Reply-To: <988791670.885387@dns2.serv.net>
Xref: nntp1.ba.best.com alt.sys.pdp10:4702

On Wed, 2 May 2001, Patrick Scheible wrote:
> It seems there are two
> additional files at the beginning of the 4.1 installation tape

KS10 microcode
bootstrap

All bootable KS tapes (including diagnostics and ITS) start with these two
files, and the 8080 tape bootstrap command expects them there.

They aren't on a KL installation tape, because the microcode and bootstrap
(as well as the front-end OS) is on floppies.  On a KS, the front-end OS
is in ROM.

-- Mark --

http://staff.washington.edu/mrc
Science does not emerge from voting, party politics, or public debate.



Article: 17596 of alt.sys.pdp10
Path: iad-read.news.verio.net!dfw-artgen!iad-peer.news.verio.net!news.verio.net!washdc3-snh1.gtei.net!nycmny1-snh1.gtei.net!news.gtei.net!panix!not-for-mail
From: Rich Alderson <alderson+news@panix.com>
Newsgroups: alt.sys.pdp10
Subject: Re: Help! TOPS-20 v4.1 - Password problems
Date: 02 Aug 2002 20:49:38 -0400
Organization: Systems Administration, XKL LLC, Redmond WA 98052
Lines: 55
Sender: alderson+news@panix5.panix.com
Message-ID: <mddvg6s7om5.fsf@panix5.panix.com>
References: <ujumcri403av83@corp.supernews.com>
NNTP-Posting-Host: panix5.panix.com
X-Trace: reader1.panix.com 1028335778 29740 166.84.1.5 (3 Aug 2002 00:49:38 GMT)
X-Complaints-To: abuse@panix.com
NNTP-Posting-Date: Sat, 3 Aug 2002 00:49:38 +0000 (UTC)
X-Newsreader: Gnus v5.7/Emacs 20.7
Xref: dfw-artgen alt.sys.pdp10:17596

<Sorry to take so long to respond.  I've been working an average of 11.5 hours
 per day on a single project, writing code in a language I didn't know three
 weeks ago.  --rma>

sword7@speakeasy.org writes:

> Does anyone have know how to reset admin password for OPERATOR account?  I
> forget my admin password on my TOPS-20 v4.1 disk image that I installed some
> time ago.

> With my latest version of TS10, I was able boot TOPS-20 v4.1 but forgot my
> password when I attemped to enter 'LOGIN OPERATOR <password>' at @ prompt.

The canonical way is to boot from the console specifying the DDT start address.
(Locations 140 and 142 *both* point to DDT in the DEC standard monitor; the
Stanford monitor follows suit.)  Once in DDT, put -1 in DBUGSW and set a break-
point on GOTSWM ("GOT SWappable Monitor"):

	DBUGSW/   0   -1<CRLF>
	GOTSWM$B   $P

When you hit the breakpoint, remove it (0$1B), and go to .LOGIN (the start of
the LOGIN% JSYS code).  Type linefeeds until you find the call CALL CHKPSW
(which *might* look like "PUSHJ P,CHKPSW" but I don't think your monitor is
that old).  JFCL both the call and the following instruction (password check
skip-returns on success), and proceed the monitor.

	.LOGIN/   JSP CX,.STKST   
	.LOGIN+1/   T3   
	.LOGIN+2/   MOVEM T1,-2(P)   
	.LOGIN+3/   SKIPGE CX,GTOKPR+4   
	.LOGIN+4/   SKIPA    
	.LOGIN+5/   TLNN CX,200000   
		.
		.
		.
	.LOGIN+51/   TRNE T1,600000   
	.LOGIN+52/   JRST LOGI1#   
	LOGI2#/   SKIPE T2,CRJFLG   
	LOGI2#+1/   TRNN T2,1   
	LOGI2#+2/   SKIPA    
	LOGI2#+3/   JRST LOGI1#   
	CHKPVL#/   CALL CHKPSW   
	CHKPVL#+1/   JRST LOGI3#   
	CHKPVL#+2/   MOVEM T2,-3(P)   

(There is no guarantee that either LOGI2 or CHKPVL will occur in your monitor,
depending on its age.  Start from .LOGIN and you'll win.)

You can then log in without a password as any privileged account and set the
password for OPERATOR and any other thing you might wish to do.

-- 
Rich Alderson                                          alderson+news@panix.com
  "You get what anybody gets.  You get a lifetime."  --Death, of the Endless


