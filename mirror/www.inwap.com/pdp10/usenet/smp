Article 4495 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!newsfeed.berkeley.edu!newsfeed.xcom.net!news.ultranet.com!d15
From: jmfbahciv@aol.com
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: Thu, 10 Dec 98 13:38:16 GMT
Organization: UltraNet Communications, Inc.
Lines: 340
Message-ID: <74ok82$vag$1@strato.ultra.net>
References: <74oic9$o52$1@ligarius.ultra.net>
NNTP-Posting-Host: d15.dial-13.mbo.ma.ultra.net
X-Complaints-To: abuse@ultra.net
X-Ultra-Time: 10 Dec 1998 14:01:38 GMT
X-Newsreader: News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.sys.pdp10:4495

In article <74oic9$o52$1@ligarius.ultra.net>, jmfbahciv@aol.com wrote:
>The subsequent post to this thread will contain the SMP story
>that I promised to write 3 years ago.  The reason that I'm 
>writing this post is because my newsreader doesn't allow me
>to COPY/PASTE from another file...sigh!
>
>I would appreciate it if people would help fill in the blanks
>which I have indicated by surrounding the questionable areas
>with question marks.
>
>Enjoy your read :-).
>/BAH

[begin story]
[Version 0.3]

Once upon a time there was a company affectionately
called DEC that attracted and hired productive people.  
Instead of tying their efforts down with rules and 
paperwork, this company encouraged its people to think 
and create.   It allowed people to do real work.  We 
made fine stuff and we made money selling that stuff.   

Symmetric Multi-Processing (SMP) was a tightly coupled 
system architecture that allowed any CPU to do any task,
as opposed to a master/slave architecture.  TOPS-10
SMP had few exceptions, such as setting the time at 
system startup.  To indicate that this was a new 
software design, the major monitor version number 
that implemented this architecture was incremented 
from 6.xx to 7.xx.  We called this monitor, the piece of
the operating system that was always resident in core,  7.01.

Our customers first saw SMP as V7.01.  The fact that 
they ever saw it is a testament of the high regard 
that DEC had for two men, James M. Flemming (JMF) 
and Antony Wachs (TW); a respect that was eliminated 
in a company known as Digital.  This is the story
of what happened, based on personal observation
and what was told to me by JMF and TW.


Sometime, during the 6.03 development cycle and the advent
of the KL10 CPU, Jim noticed that the speed of service to
users was not very good.  After we shipped 6.03, Jim did
his usual "stare at the SYSDPY" displays and created a
performance data base (I think with the help of CDO) for
further performance analysis.  SYSDPY was a program
that displayed static and variable system data on a video
terminal; Chuck O'Toole did some of the formatting of
SYSDPY and also wrote a FORTRAN program that
analyzed the data ??is this correct, Chuck??

What he found absolutely floored him.  When one added a
second KL10 CPU, one did not get twice the service; his
analyses showed that one only got 1.8 the expected 
performance.  He made slides and gave a talk about this
for DECUS stating that 1 KL + 1 KL = 1.8 KLs.  Now, if 
there was anything that TOPS-10 developers couldn't stand, 
it was degradation of performance.  JMF and TW worked 
the 3:00-12:00 shift so they could have the PDP-10
systems stand alone, and probably started to talk
about improvements during those wee small hours of 
the A.M. when not much else was going on.  Since
I was working on the accounting project in another
part of the building, I couldn't listen in on all of
their brainstorming sessions.

I remember JMF had to work really hard to convince
TW that bit-diddling the master/slave implementation
wouldn't give the performance improvements that JMF
wanted.  He firmly believed that adding another CPU
to a configuration should give the system a 100%
increase of work, not 80%.  Hence, SMP was born.

There was a flurry of activity.  The tasks that had
to be done in order to implement SMP were written on
the backs of unpunched IBM computer cards.  Keeping
lists and marking changes in listings was the best
use of cards in DEC's opinion.

One of those tasks was to make each device driver 
reentrant so that the code could be run at any time
on any CPU; the data and the code had to be separated.
The two men split up the work by negotiation.   
One of those negotiations was deciding who would do 
FILSER, the file service routines.  As a result of those 
negotiations, Jim was obliged to do a lot of device drivers 
just so Tony would do FILSER.  In those days, nobody 
touched the disk service routines without great trepidation, 
lots of magic incantations and the blessings of TW who,
at the time, was considered the father of TOPS-10 due to
his longevity in the group. Jim didn't want any part of the 
file system work.  I don't remember how they decided who 
would do SCNSER, the terminal I/O module, since
neither one wanted any part of that piece of TOPS-10.
I suspect that there was probably a wish for RCC (Bob
Clements) to come back but, instead, we managed to 
hire somebody.  This was an accomplishment since the 
part of the PDP-10 development budget alloted to TOPS-10 
was very, very small.

I remember that Jim would use his weekend work time to 
make device drivers such as DTASER, the DECtape device
driver, reentrant.  Jim always  went into work Saturday and 
Sunday mornings but he only did "fun stuff" on the weekends,
his play time. 

Those development days were lively with laughter,
fights, ups and downs.  A big up was the day that
the guys got the monitor to print its dot after TW
ran his macroes over the sources; we used this major
code adjustment time as an opportunity to get rid
of all the feature test switches that had become
a pain in the ass.  There were just some things  
that we didn't want customers to be able to turn
on and there were some things that we didn't want
customers to turn off.  These feature test switches 
were an archaic legacy of DEC's support commitments. 

A big down was the day that the guys finally figured
out the reason for a particular set of crashes was a
race condition caused by the KL not having a write-thru 
cache.  That was a time when the guys thought that 
they wouldn't be able to ever implement SMP; if a solution
wasn't found, we had to can the project.  Jim finally 
got the idea of the spin-lock mechanism to solve that
problem.  JMF and TW were told many years later that
this could have been patented but the lawyers decided
it wasn't worth the trouble since the sources had
been shipped.  Back in those days, if the sources
were shipped, the thinking was that the contents
was public domain.  That thinking changed but I
don't remember why (if I ever knew).

The development cycle had reached the stage when Jim
and Tony were ready to talk about the product at Spring 
DECUS, 1978. ??I think this is the correct year but would
like some verification??
We did all the preparations for the talk.  I was the one
who did all the overheads and, believe me, getting JMF
to keep those slides readable was an effort.  We attended
the party-line talks; these were the pre-DECUS meetings 
where the product managers told us what we could talk
about, and, more importantly, what we couldn't talk
about.  It one wanted to go to DECUS, one had to attend  
one of these party-line sessions.  We were to find out
later that these sessions were not complete.

Jim and Tony were very excited about telling the TOPS-10 
customers about SMP.  In those days, the corporate climate 
with respect to TOPS-10 was not good.  We felt like we were 
being attacked from all sides so the anticipation of 
presenting a really good idea to our customers was 
important to them.

Jim and Tony did their talk about SMP.  Then we went
to the product panel session.  Jim and Tony sat together
towards the front of the room.  I sat three chairs down
from our manager, Chuck Turley; the chairs between Chuck 
and me were vacant.

The product manager, Dave ?????, gave the presentation.  
One of his slides said that 6.04 was the last TOPS-10 
monitor.  I can't begin to describe the impact that 
that slide had on the audience.   After some questions, 
one customer asked, "Is 6.04 the last TOPS-10 monitor?" 
Dave said, "Yes."  The same customer then asked, "Is SMP 
in 6.04?"  Dave said, "No."

I asked Chuck if he knew that this was coming.  He nodded
his head miserably.  I said, "Do you understand what 
that implies?"   Again, he nodded his head.  I said,
"Did Jim and Tony know about this?"  He shook his head.
I said, "Why didn't you tell them?"  He said, miserably,
"We didn't know how to tell them."

The meeting broke up shortly after that.  I sought out
Jim and Tony and we retired to a nook in the bar.  I
didn't know how to comfort them; I was in shock myself.
I must digress here for just a minute to mention that
most of the customers left us alone in our misery.  I
would like to thank them for that small gesture of
understanding.  We didn't want to hobnob just then.

[As a warning to the reader, I would like to make one
thing clear before I continue.  TW was the only person
in the whole world throughout all time that was allowed
to call me Babs (he pronounced it Bobs); Jim never even 
tried.  So, just because it's now in print, does not mean 
that it will be permissable to call me that name.]

At one point, Tony asked, "What are we going to do, Babs?"
He had such a lost look on his face that I told him the
truth.  I said, "Fuck'em."  You see, I was pissed; I 
was livid; I was beyond expressing my anger and disgust
with the way these guys had been treated by our management.
How dare they not tell Jim and Tony what was being planned.
How dare they let Jim and Tony go to DECUS and talk about
SMP, giving the customers the idea of a hint of deceit
and the impression of ineptness.  How dare they allow 
Jim and Tony to embarrass themselves because of their
[the managers'] cowardice?  I was furious.  And, 
besides that, they were cancelling TOPS-10 which was a 
revenue backbone of Digital Equipment Corporation.  
So, back to the bar scene.

I said, "Fuck'em."  Tony said, "Yea.  Yea.  YEA.  FUCK'EM".
Then Jim said, "You know, TW, I always wanted to
have a calling card that said, 'Have EDDT, will travel'.  
One of my favorite TV shows was _Have Gun, Will Travel_
and I always thought that the slogan 'have EDDT, will
travel' was sexy."

Tony got a thoughtful look on his face and the guys
started talking about a business where their expertise
in debugging and developing TOPS-10 could be exchanged 
for money.  We started planning then and there.  SMP 
would be delayed for a while but the game plan was to 
get a customer to allow us to use their hardware so 
that further development could continue; we had our 
eye on the ORNL site for that.  Since Jim and Tony 
both had families, a source of income was required.  
We figured that plenty of customers would want them 
to solve their problems.  We figured that we
wouldn't have to advertise; word-of-mouth would be 
sufficient.  My part would be to take the phone calls,
handle the scheduling, and be responsible for the 
financial end of the business.  If anything else came
up, I would handle that, too.  Picking up all the loose
ends was already one of my functions at DEC.  On top of 
that, I would keep my job with DEC and garner lists and 
information about customers with problems.  Then 
Tony said he had to go home (his beer limit was two).

I do not know what was said in the early morning
sessions that JMF and TW must have had.  That Friday, 
JMF and TW agreed that we all go away and think about
the proposal and talk with the wives.  A meeting with
the wives was set for that next Sunday night at TW's 
house.  It was agreed that, if even one person voted
nay to the proposal, we wouldn't go ahead with it.

Meanwhile, I had to figure out how I could answer my
phone at home (my personal phone number was going to 
be the customer contact) while I was working in Marlboro.
I started to think about the financial aspects of running
a business.  Neither Jim nor Tony knew the rudiments of
business management.  Jim didn't know how not to spend
money, and Tony didn't know how to spend money.  I
quailed at the thought of having to argue business
sense to either of these men.  I began to have my
doubts about the success of this business venture.

Then I thought about the impact of my saying nay on
these two men.  I didn't want to hurt them; a vote
of nay would crush them.  It was conceivable that I
would lose their friendship.  It was guaranteed that
I would get undercut at work.  I took the coward's 
way out and decided to vote last.  If one of the
wives said nay, I wouldn't have to vote.

We had the Meeting With the Wives that Sunday night; 
Jim and Tony gave it this title. After a lot of 
discussion, it was time to vote.  The wives voted yea.  
Tony and Jim voted yea.  Then they all looked at me and 
I wanted to melt through the virtual hole in the floor.  
With a sinking feeling, I voted nay.  Jim and Tony were
shocked.  I gave them my reasons saying that I didn't
think that we knew how to run a business.  After
a little more discussion, TW ended the meeting saying
there wasn't anymore to be said.  I went home.  Tomorrow
was Monday, another work day.

That next morning, JMF and TW got together to talk
again.  I don't know what they said; I didn't really
want to ever know what they said.  They did decide
to go to their manager and told me so.  I said, "If
I were you, I'd go to the top and not waste a damn
second on middle management."  TW suggested the next
level up.  I suggested they start with Ken.  JMF
and TW comprimised and got an appointment with the
head guy of LCG (I don't remember his name and
would appreciate help with this one).

Those were two very nervous people.  They didn't tell 
anybody about the meeting (their normal habit would have
been to tell at least the supervisor).  They spent their
time drinking coffee (which didn't help nerves), walking
around, and fussing.  These men never fussed.  Finally,
the late morning meeting happened.

They sat down with this guy and told him about the 
"6.04 is the last TOPS-10 monitor" announcement.  
The guy said, "Yea, so?"  Jim and Tony said, "What
do you plan for us to work on after 6.04?".  Jim
and Tony proceeded to tell him that they were 
seriously thinking about leaving DEC.  

Now, apparently, that thought hadn't crossed management's
mind when planning this outrageous announcement.  I 
can't explain the idiocy; there are times when people 
just don't make sense to me and this was one of those
times.  The managers (those directly above Jim and Tony) 
who did think this thought, didn't say anything.  The 
politics of getting rid of TOPS-10 were very thick and 
tricky then.  So silence was the easiest and safest 
course to take at that time; I understand this thinking.

After that meeting, as TW would say, the fit hit the
shan.  It was not a goal to lose Jim and Tony.  At
that time, there were still people who were aware
that the products these guys produced made money.  I
do know that somebody pointed out that most of the
budget for TOPS-10 involved Jim and Tony.  If
they were going to be funded anyway, they might as
well do something like SMP (they were not welcome 
in the -20 group and they did not want to work on TOPS-20).  
So, to keep these two men as employees, DEC turned the 
TOPS-10 SMP project back on.

From that time on, I did everything I could to smooth
the efforts of the TOPS-10 monitor group in my spare
time.  That work involved from being a sounding board
at design sessions to getting cups of coffee for the 
guys during intense debugging efforts.  It was an 
interesting time; it was an exacting time; it was
hell; it was heaven.  It was frustrating; it was 
satisfying.   It was rarely boring; it was life.

When Tony Wachs died, I cried for three days and three 
nights.  Then, for three months after that, I cried 
whenever Jim wasn't around because he didn't like to see 
me cry.  When Jim Flemming died, I cried for two years 
and a month.  These men were my best friends.  I still 
miss them.

[end of story]

Subtract a hundred and four for e-mail.


Article 4496 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!news.maxwell.syr.edu!newsfeed.cwix.com!207.241.0.194!news.wwa.com!not-for-mail
From: jeverett@wwa.DEFEAT.UCE.BOTS.com (John Everett)
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: 10 Dec 1998 16:04:23 GMT
Organization: Everett Associates
Lines: 35
Message-ID: <74ore7$p23$1@hirame.wwa.com>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net>
NNTP-Posting-Host: poolf10-030.wwa.com
Mime-Version: 1.0
Content-Type: Text/Plain; charset=US-ASCII
X-Newsreader: WinVN 0.99.8 (x86 32bit)
Xref: news3.best.com alt.sys.pdp10:4496

In article <74ok82$vag$1@strato.ultra.net>, jmfbahciv@aol.com says...
>
>When Tony Wachs died, I cried for three days and three 
>nights.  Then, for three months after that, I cried 
>whenever Jim wasn't around because he didn't like to see 
>me cry.  When Jim Flemming died, I cried for two years 
>and a month.  These men were my best friends.  I still 
>miss them.

Thanks Barb, nice posting. As I've posted here before, at one time or another 
I shared an office with both TW and JMF and counted them among my best 
friends. While I had left DEC in 1974 (to go work with Rich Krasin at (the 
old) First Data), it turns out I was around during the 6.04/7.01 era. By this 
time First Data had been acquired by ADP. DEC pitched the KS-10 to ADP as a 
"distributed processing" solution, but because of the tight TOPS-10 budget, 
had no one working on porting the Monitor to the KS. So I came back as a 
"contract worker" to do the port. It was during this period SMP was being 
developed. Since the cube I'd been assigned was right next to TW's, I got to 
lurk in on some of the discussions. I do recall one discussion involving 
"cache sweep serial number", one of the fundamental concepts that enabled SMP 
to work on the KL.

Amazingly, I don't believe I'd ever heard the story about how 7.01 was 
resurrected. Either that or I've just forgotten it. I'm trying to recall which 
version KS-10 support first appeared in. I know I did the port over the winter 
of 77-78, and KS-10 support first officially appeared in mid-78, so I'm 
guessing it was 6.04. If I'm correct, your guess that the bombshell DECUS was 
in 1978 is probably also correct.

-- 
jeverett@wwa.DEFEAT.UCE.BOTS.com (John Everett) http://www.wwa.com/~jeverett
             ^^^^^^^^^^^^^^^
Things have gotten so bad I feel the need to disguise my email address.
And I don't like this explanation because I just hate long signatures.



Article 4498 of alt.sys.pdp10:
Path: news3.best.com!news1.best.com!su-news-hub1.bbnplanet.com!news.gtei.net!newsfeed.direct.ca!news-peer1.sprintlink.net!news-in-east1.sprintlink.net!news.sprintlink.net!news.ultranet.com!d14
From: jmfbahciv@aol.com
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: Fri, 11 Dec 98 12:38:38 GMT
Organization: UltraNet Communications, Inc.
Lines: 79
Message-ID: <74r549$9hi$2@ligarius.ultra.net>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net> <74ore7$p23$1@hirame.wwa.com>
NNTP-Posting-Host: d14.dial-16.mbo.ma.ultra.net
X-Complaints-To: abuse@ultra.net
X-Ultra-Time: 11 Dec 1998 13:02:01 GMT
X-Newsreader: News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.sys.pdp10:4498

In article <74ore7$p23$1@hirame.wwa.com>,
   jeverett@wwa.DEFEAT.UCE.BOTS.com (John Everett) wrote:
>In article <74ok82$vag$1@strato.ultra.net>, jmfbahciv@aol.com says...
>>
>>When Tony Wachs died, I cried for three days and three 
>>nights.  Then, for three months after that, I cried 
>>whenever Jim wasn't around because he didn't like to see 
>>me cry.  When Jim Flemming died, I cried for two years 
>>and a month.  These men were my best friends.  I still 
>>miss them.
>
>Thanks Barb, nice posting. 

Thank you.  It was difficult to write but it addressed several
goals.

> ...As I've posted here before, 
>at one time or another 
>I shared an office with both TW and JMF and counted them among my best 
>friends. While I had left DEC in 1974 (to go work with Rich 
>Krasin ...

Rich was the reason that Jim came to DEC.

>at (the 
>old) First Data), it turns out I was around during the 6.04/7.01 era. 
>By this time First Data had been acquired by ADP. DEC pitched the 
>KS-10 to ADP as a "distributed processing" solution, but because 
>of the tight TOPS-10 budget, had no one working on porting the 
>Monitor to the KS. So I came back as a "contract worker" to 
>do the port. It was during this period SMP was being 
>developed. Since the cube I'd been assigned was right next 
>to TW's, I got to lurk in on some of the discussions. I do 
>recall one discussion involving "cache sweep serial number", 
>one of the fundamental concepts that enabled SMP 
>to work on the KL.

Yup.  That was a crucial bit.  A discussion would be educational.
I can't talk about it since I didn't do any of the programming.

>
>Amazingly, I don't believe I'd ever heard the story about 
>how 7.01 was resurrected. Either that or I've just forgotten it. 

I don't think any of us talked about it.  I sure didn't tell anybody.
We were fighting for our proverbial lives back then and were 
causing enough waves.  Jim was definitely one who picked which wave
he wanted to send and TW was one who would rather not make any at
all :-).  I was trying to keep us (DEC) afloat so old waves weren't 
interesting :-).

>I'm trying to recall which version KS-10 support first 
>appeared in. I know I did the port over the winter 
>of 77-78, and KS-10 support first officially appeared in mid-78, 
>so I'm guessing it was 6.04. If I'm correct, your guess that the 
>bombshell DECUS was in 1978 is probably also correct.
>

I know I was living in this house (bought in Jan, 1977) but I just
couldn't remember which year.  I didn't have anything to do with
the KS ship other than any mumbles that Magee might have made.
Do you remember who was your packager for the KS and how it was
shipped?  I don't remember a KS tape.  We never shipped a 6.04
and, for some reason, I seem to think that KSSER.MAC was on
the 6.03A tape.

Also, somebody else sent me mail saying that my 
1 KL + 1 KL = 1.8 KLs was incorrect and should have
a sum of .8 KL.  Can anybody remember what Jim's 
slides said?  I typed the bloody things and could have
sworn it was 1.8.  But I need confirmation since my
recall features are fuzzy.


/BAH



Subtract a hundred and four for e-mail.


Article 4500 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!newsfeed.berkeley.edu!newsfeed.cwix.com!169.132.11.200!news.idt.net!WCG!cyclone.i1.net!uunet!in1.uu.net!news.Arizona.EDU!CS.Arizona.EDU!not-for-mail
From: gmt@CS.Arizona.EDU (Gregg Townsend)
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: 11 Dec 1998 09:25:49 -0700
Organization: University of Arizona CS Department, Tucson AZ
Lines: 20
Message-ID: <74rh2d$q2r@hawk.CS.Arizona.EDU>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net> <74ore7$p23$1@hirame.wwa.com> <74r549$9hi$2@ligarius.ultra.net>
NNTP-Posting-Host: hawk.cs.arizona.edu
Xref: news3.best.com alt.sys.pdp10:4500

In article <74r549$9hi$2@ligarius.ultra.net>,  <jmfbahciv@aol.com> wrote:

> Also, somebody else sent me mail saying that my 
> 1 KL + 1 KL = 1.8 KLs was incorrect and should have
> a sum of .8 KL.  Can anybody remember what Jim's 
> slides said?  I typed the bloody things and could have
> sworn it was 1.8.  But I need confirmation since my
> recall features are fuzzy.

I don't recall the original source, but at the University of Arizona it
was commonly said that "1 KL + 1 KL = .8 KL".  Multiprocessor performance
was so disappointing that we split our system in half and ran it as two
independent systems ("AZONE and AZTWO") for a long time.

   ---------------------------------------------------------------------------
   Gregg Townsend              Gould-Simpson Building   gmt@cs.arizona.edu
   Staff Scientist             1040 E. 4th St.          32 13 45N  110 57 16W
   Dept. of Computer Science   PO Box 210077            tel: +1 520 621 4325
   The University of Arizona   Tucson, AZ  85721-0077   fax: +1 520 621 4246



Article 4503 of alt.sys.pdp10:
Newsgroups: alt.sys.pdp10
Path: news3.best.com!news2.best.com!news.maxwell.syr.edu!ix.netcom.com!netcom!alderson
From: alderson@netcom.netcom.com (Richard M. Alderson III)
Subject: Re: An SMP Story
In-Reply-To: jmfbahciv@aol.com's message of Fri, 11 Dec 98 12:38:38 GMT
Message-ID: <ALDERSON.98Dec11115736@netcom.netcom.com>
Sender: alderson@netcom.netcom.com
Reply-To: alderson@netcom.com
Organization: NETCOM On-line services
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net>
	<74ore7$p23$1@hirame.wwa.com> <74r549$9hi$2@ligarius.ultra.net>
Date: Fri, 11 Dec 1998 19:57:36 GMT
Lines: 16
Xref: news3.best.com alt.sys.pdp10:4503

In article <74r549$9hi$2@ligarius.ultra.net> jmfbahciv@aol.com writes:

>Also, somebody else sent me mail saying that my 1 KL + 1 KL = 1.8 KLs was
>incorrect and should have a sum of .8 KL.  Can anybody remember what Jim's
>slides said?  I typed the bloody things and could have sworn it was 1.8.  But
>I need confirmation since my recall features are fuzzy.

The official figure, one which I have heard for years, is 1.8.  It appears from
the operating systems literature of 15 years ago to be approximately correct
for all tightly coupled multiprocessor systems (yeah, at one time I read that
stuff for fun).  Loosely coupled systems such as CI-clustered -20's running
NEBULA were a lot closer to 1 + 1 = 2, maybe 1.95?
-- 
Rich Alderson			Last LOTS Tops-20 Systems Programmer, 1984-1991
				Current maintainer, MIT TECO EMACS (v. 170)
last name @ XKL dot COM		Chief systems administrator, XKL LLC, 1998-now


Article 4511 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!newsfeed.berkeley.edu!newsfeed.xcom.net!news.ultranet.com!d5
From: jmfbahciv@aol.com
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: Sat, 12 Dec 98 14:52:26 GMT
Organization: UltraNet Communications, Inc.
Lines: 49
Message-ID: <74u1bg$4kf$5@ligarius.ultra.net>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net>
	<74ore7$p23$1@hirame.wwa.com> <74r549$9hi$2@ligarius.ultra.net> <ALDERSON.98Dec11115736@netcom.netcom.com>
NNTP-Posting-Host: d5.dial-16.mbo.ma.ultra.net
X-Complaints-To: abuse@ultra.net
X-Ultra-Time: 12 Dec 1998 15:16:00 GMT
X-Newsreader: News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.sys.pdp10:4511

In article <ALDERSON.98Dec11115736@netcom.netcom.com>,
   alderson@netcom.netcom.com (Richard M. Alderson III) wrote:
>In article <74r549$9hi$2@ligarius.ultra.net> jmfbahciv@aol.com writes:
>
>>Also, somebody else sent me mail saying that my 1 KL + 1 KL = 1.8 KLs was
>>incorrect and should have a sum of .8 KL.  Can anybody remember what 
Jim's
>>slides said?  I typed the bloody things and could have sworn it was 1.8. 
 But
>>I need confirmation since my recall features are fuzzy.
>
>The official figure, one which I have heard for years, is 1.8.  It appears 
from
>the operating systems literature of 15 years ago to be approximately 
correct
>for all tightly coupled multiprocessor systems (yeah, at one time I read 
that
>stuff for fun).  Loosely coupled systems such as CI-clustered -20's 
running
>NEBULA were a lot closer to 1 + 1 = 2, maybe 1.95?

Well, they were counting differently but that's another story.
15 years ago was post-SMP.  I'm looking for the figures that
Jim used to justify doing SMP.  I don't know if I have those
slides since I didn't clean my desk out back then.  There was
quite a bit of stuff that went missing.  I suppose I should
open my boxes and see if I have any of that stuff left.  It's
a tad wrenching and I just wanted to avoid that at this time.

Another small story...I opened a box (I'm trying to dump all
the junk in this house) and found a nastygram from Gordon Bell.
We had knockdown, drag-out almost as soon as I started working
at DEC.  Remember those 3-deep parking spaces in the 12-1 parking
lot?  He didn't like the way I parked :-).  Of course, he wasn't
willing to cooperatively park (as was the convention back then)
so that I could be the first out that noon.  I sussed him out
right away.

Of course, for some strange reason, my immediate supervisor 
and managers got all hot and bothered with the delivery of 
that note.  I guess I was feisty from the beginning :-;.

/BAH


/BAH


Subtract a hundred and four for e-mail.


Article 4514 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!news.maxwell.syr.edu!nntp2.dejanews.com!nnrp1.dejanews.com!not-for-mail
From: skywriter@my-dejanews.com
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: Sat, 12 Dec 1998 20:11:12 GMT
Organization: Deja News - The Leader in Internet Discussion
Lines: 70
Message-ID: <74uikv$a2k$1@nnrp1.dejanews.com>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net> <74ore7$p23$1@hirame.wwa.com> <74r549$9hi$2@ligarius.ultra.net> <ALDERSON.98Dec11115736@netcom.netcom.com> <74u1bg$4kf$5@ligarius.ultra.net>
NNTP-Posting-Host: 168.159.6.129
X-Article-Creation-Date: Sat Dec 12 20:11:12 1998 GMT
X-Http-User-Agent: Mozilla/4.04 [en] (X11; U; SunOS 5.5.1 sun4m)
X-Http-Proxy: 1.0 x7.dejanews.com:80 (Squid/1.1.22) for client 168.159.6.129
Xref: news3.best.com alt.sys.pdp10:4514

Firstly: thank you for posting this. I worked at DEC
between 79-85 at MR01, and was not quite sure what
was going on at the time :)
Secondly: I have a T Shirt that I got from a friend
after I left, that said

FRONT:	TOPS-10
	VERSION 7.03

BACK:	CI TOLD YOU ...
	NI KNEW
	WE COULD DO IT!

I remembered the hardware retrofit of NI and CI
into the 1090 cabinet, but thought it was only
a TOPS-20 project..

In article <74u1bg$4kf$5@ligarius.ultra.net>,
  jmfbahciv@aol.com wrote:
> In article <ALDERSON.98Dec11115736@netcom.netcom.com>,
>    alderson@netcom.netcom.com (Richard M. Alderson III) wrote:
> >In article <74r549$9hi$2@ligarius.ultra.net> jmfbahciv@aol.com writes:
> >
> >>Also, somebody else sent me mail saying that my 1 KL + 1 KL = 1.8 KLs was
> >>incorrect and should have a sum of .8 KL.  Can anybody remember what
> Jim's
> >>slides said?  I typed the bloody things and could have sworn it was 1.8.
>  But
> >>I need confirmation since my recall features are fuzzy.
> >
> >The official figure, one which I have heard for years, is 1.8.  It appears
> from
> >the operating systems literature of 15 years ago to be approximately
> correct
> >for all tightly coupled multiprocessor systems (yeah, at one time I read
> that
> >stuff for fun).  Loosely coupled systems such as CI-clustered -20's
> running
> >NEBULA were a lot closer to 1 + 1 = 2, maybe 1.95?
>
> Well, they were counting differently but that's another story.
> 15 years ago was post-SMP.  I'm looking for the figures that
> Jim used to justify doing SMP.  I don't know if I have those
> slides since I didn't clean my desk out back then.  There was
> quite a bit of stuff that went missing.  I suppose I should
> open my boxes and see if I have any of that stuff left.  It's
> a tad wrenching and I just wanted to avoid that at this time.
>
> Another small story...I opened a box (I'm trying to dump all
> the junk in this house) and found a nastygram from Gordon Bell.
> We had knockdown, drag-out almost as soon as I started working
> at DEC.  Remember those 3-deep parking spaces in the 12-1 parking
> lot?  He didn't like the way I parked :-).  Of course, he wasn't
> willing to cooperatively park (as was the convention back then)
> so that I could be the first out that noon.  I sussed him out
> right away.
>
> Of course, for some strange reason, my immediate supervisor
> and managers got all hot and bothered with the delivery of
> that note.  I guess I was feisty from the beginning :-;.
>
> /BAH
>
> /BAH
>
> Subtract a hundred and four for e-mail.
>

-----------== Posted via Deja News, The Discussion Network ==----------
http://www.dejanews.com/       Search, Read, Discuss, or Start Your Own    


Article 4530 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!feed1.news.rcn.net!rcn!news.idt.net!newsfeed.cwix.com!204.238.120.130!news-feeds.jump.net!nntp2.dejanews.com!nnrp1.dejanews.com!not-for-mail
From: slugger@my-dejanews.com
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: Mon, 14 Dec 1998 16:58:59 GMT
Organization: Deja News - The Leader in Internet Discussion
Lines: 89
Message-ID: <753g4h$6pq$1@nnrp1.dejanews.com>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net> <74ore7$p23$1@hirame.wwa.com> <74r549$9hi$2@ligarius.ultra.net>
NNTP-Posting-Host: 192.193.195.25
X-Article-Creation-Date: Mon Dec 14 16:58:59 1998 GMT
X-Http-User-Agent: Mozilla/3.03 (WinNT; U)
X-Http-Proxy: 1.0 x15.dejanews.com:80 (Squid/1.1.22) for client 192.193.195.25
Xref: news3.best.com alt.sys.pdp10:4530

B,

> Also, somebody else sent me mail saying that my
> 1 KL + 1 KL = 1.8 KLs was incorrect and should have
> a sum of .8 KL.  Can anybody remember what Jim's
> slides said?

From 1979 to 1980, I was a WPI student contract worker in Marlboro.  I
worked in Frank DiPace's group for a guy named Leavitt (can't remember
his first name).  Frank reported to Tim Beers.  This was on the second
floor, right down the hall from the Big Machine Room.  I forget who my
partner was (although I'm sure I'll remember that about 8 minutes
after I post this).  Our faculty advisor was Robert E. Kinicki who is
now the chairman of the computer science department at WPI.

Our project was to redesign a piece of software that read backup
(DUMPER) tapes and built an on-line catalog of files that existed on
each tape.  The previous version of this software was a proof-of-
concept that was written in COBOL.  It basically read through DUMPER
tapes and stored each backup entry as a fixed length ASCII record with
structure and directory names in a flat file.  The catalog file would
get ...really... large and ...really.... slow after a while.

Our final design was to put some hooks into DUMPER and record the
backup information in real time to a real data base.  We were far less
qualified then we thought and the project goals were far larger than
either of us imagined...  Does any of this sound familiar?  So, while
we did do a pretty good job of low level data base design (b-tree
indices and hashed searches), we ran out of time and never completed
the implementation.  Sigh...

Anyway, in early 1979, a couple of people came from WPI to Marlboro
for the annual Digital/WPI Co-Op Dog And Pony Show.  The each student
team was accompanied by a faculty advisor and some DEC representatives
would sing the latest corporate propaganda in four part harmony about
how Just Dandy everything was.  We couldn't understand why they were
spending so much time telling us about the Vax, which we thought had a
rather damaged OS and virtual memory subsystem.  But, anyway...

WPI only had one student contract team at Marlboro that year, so the
three of us got a pretty detailed tour of manufacturing and other
areas.  When we walked through the Big Machine Room, Tops-10 SMP was
still fairly new.  Its features were appropriately chanted in quite
reverent and solemn tones by our guide.  When we asked about it, he
gave us the sacred saga of the SMP 'project' and related that pre-SMP
(KA model Master/Slave) performance was 0.8 KL.  Yes, you read that
correctly.  I remember this figure because we were quite shocked to
think that sticking two KL's together would get you less speed.  It
really had an impact on us.

I believe that the post-SMP figure was approximately 1.5 KL
performance for dual KL's, but it depended on what you were doing.  I
remember that not all devices could be dual ported (RP06's could) and
if you were running on one CPU and were doing I/O for a device that
was on another CPU's massbus, the your system would issue a queue
request for the other system to do something and put you to sleep
until the I/O completed.  This could have a negative impact on your
dispatch time, depending on what else was going on.

Other things that made an impression on me: the snack area upstairs in
manufacturing!  This was one of the first times I had ever used a
microwave oven.  Remember those cheeseburgers?  Bla...  I don't know
how many I ate along with Mountain Dew, the Jolt Cola of the '70's.
Definately too many late nights hacking tapes...

So, now that I've helped you remember something, I was wondering if
you could help me remember something.  One thing that I always got a
kick out of were the sign on banners for each machine.  As I usually
worked from about 8:00PM to 2:00AM (less people around), I would
sometimes wander around the machine room, poke around with the KI's
front panel and do SYSTAT's on the 20's.  They all had goofy sign on
banners and I have been trying to remember them.  Here's what I can
remember:

Serial          Banner                  Notes
======          ======                  =====
 1031   The Great Pumpkin Welcomes You  KL running Tops-20 & DECtape!
 2102   Tops-20 Monitor Development     Not always too stable...
  ?     Gus, The Languages System       Fortan, Algol
 2263   Orange Blossum Express!          Uh, can't remember ...
 2116   The Big Orange Welcomes You     Our group's system

                                                  --T
--
T h o m a s . D e B e l l i s @NoSpam C i t i c o r p . C o m
Remove spaces and NoSpam for direct email

-----------== Posted via Deja News, The Discussion Network ==----------
http://www.dejanews.com/       Search, Read, Discuss, or Start Your Own    


Article 4557 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!feed1.news.rcn.net!rcn!news.ultranet.com!not-for-mail
From: "Alan H. Martin" <AMartin@MA.UltraNet.Com>
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: Wed, 16 Dec 1998 21:05:37 -0500
Organization: UltraNet Communications , an RCN Company http://www.ultranet.com/
Lines: 25
Message-ID: <367866F1.7CFBA01@MA.UltraNet.Com>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net> <74ore7$p23$1@hirame.wwa.com> <74r549$9hi$2@ligarius.ultra.net> <753g4h$6pq$1@nnrp1.dejanews.com>
NNTP-Posting-Host: d229.dial-6.cmb.ma.ultra.net
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Complaints-To: abuse@ultra.net
X-Ultra-Time: 17 Dec 1998 03:07:24 GMT
X-Mailer: Mozilla 4.5 [en] (Win95; I)
X-Accept-Language: en,en-US,en-GB,es
Xref: news3.best.com alt.sys.pdp10:4557

slugger@my-dejanews.com wrote:

> ...  I was wondering if
> you could help me remember something.  One thing that I always got a
> kick out of were the sign on banners for each machine.  As I usually
> worked from about 8:00PM to 2:00AM (less people around), I would
> sometimes wander around the machine room, poke around with the KI's
> front panel and do SYSTAT's on the 20's.  They all had goofy sign on
> banners and I have been trying to remember them.  Here's what I can
> remember:
> 
> Serial          Banner                  Notes
> ======          ======                  =====
...
>   ?     Gus, The Languages System       Fortan, Algol

KL2137

Eventually there was MRFORT for Fortran and LINK.  I just can't recall the S/N
at the moment; something in the high 2000's.  It was in a secured data center
on the first floor (not the marketing fishbowl, either), so you wouldn't see
it wandering around.
				/AHM
-- 
Alan Howard Martin				AMartin@MA.UltraNet.Com


Article 4568 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!news1.best.com!vnetnews.value.net!not-for-mail
From: Tovar <tvr@value-nojunk.net>
Newsgroups: alt.sys.pdp10
Subject: Re: An SMP Story
Date: 17 Dec 1998 15:27:33 -0800
Organization: Spam Haters (please remove -nojunk before replying)
Lines: 8
Message-ID: <871zlynyca.fsf@mongrel.kd6pag.ampr.org>
References: <74oic9$o52$1@ligarius.ultra.net> <74ok82$vag$1@strato.ultra.net> <74ore7$p23$1@hirame.wwa.com> <74r549$9hi$2@ligarius.ultra.net> <759pp3$c1s$1@shell3.ba.best.com>
NNTP-Posting-Host: op108.value.net
X-Newsreader: Gnus v5.6.45/Emacs 20.3
Xref: news3.best.com alt.sys.pdp10:4568

That's not nearly as wierd as the SAIL system, which for a long time was
a three processor system: KL10, KA10, and PDP-6!  Only the KL ran ordinary
user programs, but the KA and the -6 did run real-time user programs, as
well as the XGP (granddaddy of the laser printer, which was, ironically
enough, a recycled fax machine), the first full-scale real-time digital
synthesizer, and various other obscure peripherals.

				-- TVR


Article 5203 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!newsfeed.berkeley.edu!newsfeed.enteract.com!news.wwa.com!not-for-mail
From: jeverett@wwa.DEFEAT.UCE.BOTS.com (John Everett)
Newsgroups: alt.sys.pdp10
Subject: Re: SA10 front panel
Date: 29 May 1999 13:38:31 GMT
Organization: Everett Associates
Lines: 27
Message-ID: <7ioqkn$l3v$1@hirame.wwa.com>
References: <Pine.LNX.4.10.9905171202310.15552-100000@bony.umtec.com> <7i4nm3$msg$1@shell3.ba.best.com> <qh90ahfuo8.fsf@ruckus.brouhaha.com> <37471D12.98C2F010@stoneweb.com> <FC9uux.Hzo@world.std.com> <7ie8c8$ifc$1@hirame.wwa.com> <7igtp6$9tm$1@hirame.wwa.com> <7ii4hd$ef0$1@autumn.news.rcn.net> <7ijnqt$ksi$1@hirame.wwa.com> <7imm1u$ieq$1@autumn.news.rcn.net> <7iof1c$t08$1@autumn.news.rcn.net> <p98mccabe-2905990857350001@r-185.197.alltel.net>
NNTP-Posting-Host: poolf6-025.wwa.com
Mime-Version: 1.0
Content-Type: Text/Plain; charset=US-ASCII
X-Newsreader: WinVN 0.99.8 (x86 32bit)
Xref: news3.best.com alt.sys.pdp10:5203

In article <p98mccabe-2905990857350001@r-185.197.alltel.net>, 
p98mccabe@alltel.net says...
>
>> Our 5-CPU customer site did use AMPEX so that hardware checkout was covered
>> when we did the software development.
>
>Was this a true multi-processor configuration?  SMP?  Shared Memory? 
>You've written about SMP on the pdp-10 in the past, but I thought that was
>limited to dual processor configurations.

As I think I've posted here before, the original master/slave multi-processor 
support was written by Mike Church at MIT/LNS. We (DEC) took Mike's code and 
integrated it into the monitor sometime around 1970 or so. I implemented all 
the scheduling controls (SET RUN, SET CPU, and associated UUOs) and for some 
reason which I now can't remember implemented them so they would support 
up to five processors.

Master/slave worked pretty well until the advent of the KL, at which point 
keeping the executing processor's view of memory current with respect to cache 
became a resource hog. It was about this time the light went on in JMF's head, 
and SMP was born. SMP was just(?) an extension of the master/slave MP 
implementation and as such carried along all the old baggage, five processor 
support included.

-- 
jeverett<AT>wwa<DOT>com (John Everett)    http://www.wwa.com/~jeverett



Article 5206 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!news.maxwell.syr.edu!news.central.agis.net!agis!news1.alltel.net!r-185.154.alltel.net!user
From: p98mccabe@alltel.net (Micheal H. McCabe)
Newsgroups: alt.sys.pdp10
Subject: Re: SA10 front panel
Date: Sat, 29 May 1999 17:07:52 -0400
Organization: Micheal McCabe Data Systems
Lines: 33
Message-ID: <p98mccabe-2905991707530001@r-185.154.alltel.net>
References: <Pine.LNX.4.10.9905171202310.15552-100000@bony.umtec.com> <7i4nm3$msg$1@shell3.ba.best.com> <qh90ahfuo8.fsf@ruckus.brouhaha.com> <37471D12.98C2F010@stoneweb.com> <FC9uux.Hzo@world.std.com> <7ie8c8$ifc$1@hirame.wwa.com> <7igtp6$9tm$1@hirame.wwa.com> <7ii4hd$ef0$1@autumn.news.rcn.net> <7ijnqt$ksi$1@hirame.wwa.com> <7imm1u$ieq$1@autumn.news.rcn.net> <7iof1c$t08$1@autumn.news.rcn.net> <p98mccabe-2905990857350001@r-185.197.alltel.net> <7ioqkn$l3v$1@hirame.wwa.com>
NNTP-Posting-Host: r-185.154.alltel.net
X-Trace: news1.alltel.net 928012076 8944 166.102.185.154 (29 May 1999 21:07:56 GMT)
X-Complaints-To: abuse@client.alltel.net
NNTP-Posting-Date: 29 May 1999 21:07:56 GMT
Xref: news3.best.com alt.sys.pdp10:5206

In article <7ioqkn$l3v$1@hirame.wwa.com>, jeverett@wwa.DEFEAT.UCE.BOTS.com
(John Everett) wrote:


> As I think I've posted here before, the original master/slave multi-processor 
> support was written by Mike Church at MIT/LNS. We (DEC) took Mike's code and 
> integrated it into the monitor sometime around 1970 or so. I implemented all 
> the scheduling controls (SET RUN, SET CPU, and associated UUOs) and for some 
> reason which I now can't remember implemented them so they would support 
> up to five processors.
> Master/slave worked pretty well until the advent of the KL, at which point 
> keeping the executing processor's view of memory current with respect to
cache 
> became a resource hog. It was about this time the light went on in JMF's
head, 
> and SMP was born. SMP was just(?) an extension of the master/slave MP 
> implementation and as such carried along all the old baggage, five processor 
> support included.

I guess I'm cursed with small computer thinking.  Most of the work I've
gotten paid for (at least computerwise) has revolved around tiny embedded
systems.  When I'm been forced to use multiple CPU's, I usually end up
dividing the address space into blocks of 8 - 16K and assigning a range of
address to each CPU.  When processors need to communicate, they write a
message into a given common area and generate an interrupt.  Upon receipt
of the interrupt, a processor checks the message area, then generates a
reply and interrupts the other processor.  Since this method requires
shared memory - I always assumed this was the same as SMP.  Bus
arbitration was the only issue where a Master/Slave relationship existed.

-- 
p98mccabe@alltel.net
Micheal H. McCabe


Article 5208 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!news.maxwell.syr.edu!feed1.news.rcn.net!rcn!not-for-mail
From: "Gregory A. Scott" <gscott@scott.com>
Newsgroups: alt.sys.pdp10
Subject: TOPS-10 SMP (was Re: SA10 front panel)
Date: Sat, 29 May 1999 20:21:28 -0400
Lines: 30
Message-ID: <7iq0aa$di0$1@autumn.news.rcn.net>
References: <Pine.LNX.4.10.9905171202310.15552-100000@bony.umtec.com> <7i4nm3$msg$1@shell3.ba.best.com> <qh90ahfuo8.fsf@ruckus.brouhaha.com> <37471D12.98C2F010@stoneweb.com> <FC9uux.Hzo@world.std.com> <7ie8c8$ifc$1@hirame.wwa.com> <7igtp6$9tm$1@hirame.wwa.com> <7ii4hd$ef0$1@autumn.news.rcn.net> <7ijnqt$ksi$1@hirame.wwa.com> <7imm1u$ieq$1@autumn.news.rcn.net> <7iof1c$t08$1@autumn.news.rcn.net> <p98mccabe-2905990857350001@r-185.197.alltel.net> <7ioqkn$l3v$1@hirame.wwa.com>
X-Trace: 78n5wJhtaxK7JSqQSCn0As3aVULzN4JXYEemx6RCEnc=
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 30 May 1999 00:21:30 GMT
X-Newsreader:  Microsoft Outlook Express 4.72.3110.5
X-MimeOLE:  Produced By Microsoft MimeOLE V4.72.3110.3
Xref: news3.best.com alt.sys.pdp10:5208

>In article <p98mccabe-2905990857350001@r-185.197.alltel.net>,
>p98mccabe@alltel.net says...

>Master/slave worked pretty well until the advent of the KL, at which point
>keeping the executing processor's view of memory current with respect to
cache
>became a resource hog. It was about this time the light went on in JMF's
head,
>and SMP was born. SMP was just(?) an extension of the master/slave MP
>implementation and as such carried along all the old baggage, five
processor
>support included.


From what I remember from SOUPing monitors back then it was a pretty major
hack.

Under SMP, if a job wanted to do IO to a device that happened to be on
another CPU, the IO was queued to the other system, and if possible the job
was rescheduled to run on that other CPU.  It all worked pretty well. Does
anyone remember exactly how this worked? Joe?

Under master/slave, you got about 1.5 KLs worth of real job throughput
(depending on job mix of course). Under SMP you got something like 1.9 KLs
worth of real job throughput. It was very slick and a real win.

Greg
http://greg.scott.com/




Article 5215 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!feed1.news.rcn.net!rcn!d1
From: jmfbahciv@aol.com
Newsgroups: alt.sys.pdp10
Subject: Re: TOPS-10 SMP (was Re: SA10 front panel)
Date: Sun, 30 May 99 10:14:07 GMT
Organization: UltraNet Communications, Inc.
Lines: 48
Message-ID: <7ir9fp$hbc$5@autumn.news.rcn.net>
References: <Pine.LNX.4.10.9905171202310.15552-100000@bony.umtec.com> <7i4nm3$msg$1@shell3.ba.best.com> <qh90ahfuo8.fsf@ruckus.brouhaha.com> <37471D12.98C2F010@stoneweb.com> <FC9uux.Hzo@world.std.com> <7ie8c8$ifc$1@hirame.wwa.com> <7igtp6$9tm$1@hirame.wwa.com> <7ii4hd$ef0$1@autumn.news.rcn.net> <7ijnqt$ksi$1@hirame.wwa.com> <7imm1u$ieq$1@autumn.news.rcn.net> <7iof1c$t08$1@autumn.news.rcn.net> <p98mccabe-2905990857350001@r-185.197.alltel.net> <7ioqkn$l3v$1@hirame.wwa.com> <7iq0aa$di0$1@autumn.news.rcn.net>
X-Trace: LSE7VRlrwOyVFuXW4sZ47eATzaIRsM9o4LdbsuYv39c=
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 30 May 1999 12:04:09 GMT
X-Newsreader:  News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.sys.pdp10:5215

In article <7iq0aa$di0$1@autumn.news.rcn.net>,
   "Gregory A. Scott" <gscott@scott.com> wrote:
>>In article <p98mccabe-2905990857350001@r-185.197.alltel.net>,
>>p98mccabe@alltel.net says...
>
>>Master/slave worked pretty well until the advent of the KL, at which 
point
>>keeping the executing processor's view of memory current with respect to
>cache
>>became a resource hog. It was about this time the light went on in JMF's
>head,
>>and SMP was born. SMP was just(?) an extension of the master/slave MP
>>implementation and as such carried along all the old baggage, five
>processor
>>support included.
>
>
>From what I remember from SOUPing monitors back then it was a pretty major
>hack.

Oh, yeah.  One of the things that JMF threw in (since they were
going to touch just about everything anyway) was to get rid
of all those "pseudo-supported" feature test switches and the
really, really, really ancient hardware support.
>
>Under SMP, if a job wanted to do IO to a device that happened to be on
>another CPU, the IO was queued to the other system, and if possible the 
job
>was rescheduled to run on that other CPU.  It all worked pretty well. Does
>anyone remember exactly how this worked? Joe?

Wasn't there something about ringing doorbells?

>
>Under master/slave, you got about 1.5 KLs worth of real job throughput
>(depending on job mix of course). Under SMP you got something like 1.9 KLs
>worth of real job throughput. It was very slick and a real win.

Very slick.  There was another aspect of SMP that doesn't get
talked about very much.  And that was the ability of Field 
Service to stand-alone hardware maintenance on part of
an SMP system without stopping and restarting timesharing
of the pieces left over.  No longer did FS have to take
the whole system stand alone just to fix a disk drive.

/BAH

Subtract a hundred and four for e-mail.


Article 5213 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!feed1.news.rcn.net!rcn!d1
From: jmfbahciv@aol.com
Newsgroups: alt.sys.pdp10
Subject: Re: SA10 front panel
Date: Sun, 30 May 99 10:04:40 GMT
Organization: UltraNet Communications, Inc.
Lines: 53
Message-ID: <7ir8u2$hbc$3@autumn.news.rcn.net>
References: <Pine.LNX.4.10.9905171202310.15552-100000@bony.umtec.com> <7i4nm3$msg$1@shell3.ba.best.com> <qh90ahfuo8.fsf@ruckus.brouhaha.com> <37471D12.98C2F010@stoneweb.com> <FC9uux.Hzo@world.std.com> <7ie8c8$ifc$1@hirame.wwa.com> <7igtp6$9tm$1@hirame.wwa.com> <7ii4hd$ef0$1@autumn.news.rcn.net> <7ijnqt$ksi$1@hirame.wwa.com> <7imm1u$ieq$1@autumn.news.rcn.net> <7iof1c$t08$1@autumn.news.rcn.net> <p98mccabe-2905990857350001@r-185.197.alltel.net> <7ioqkn$l3v$1@hirame.wwa.com>
X-Trace: VpmMGnVq82HnH40/FJpLJVzcbjGTTFaHtcprrmk+xRQ=
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 30 May 1999 11:54:42 GMT
X-Newsreader:  News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.sys.pdp10:5213

In article <7ioqkn$l3v$1@hirame.wwa.com>,
   jeverett@wwa.DEFEAT.UCE.BOTS.com (John Everett) wrote:
>In article <p98mccabe-2905990857350001@r-185.197.alltel.net>, 
>p98mccabe@alltel.net says...
>>
>>> Our 5-CPU customer site did use AMPEX so that 
>>>hardware checkout was covered
>>> when we did the software development.
>>
>>Was this a true multi-processor configuration?  SMP?  Shared Memory? 
>>You've written about SMP on the pdp-10 in the past, but 
>>I thought that was
>>limited to dual processor configurations.
>
>As I think I've posted here before, the original 
>master/slave multi-processor support was written by 
>Mike Church at MIT/LNS. 

I remember that name :-).

>We (DEC) took Mike's code and 
>integrated it into the monitor sometime around 1970 
>or so. I implemented all the scheduling controls (SET RUN, 
>SET CPU, and associated UUOs) and for some 
>reason which I now can't remember implemented them so they would support 
>up to five processors.

Was it five or eight?  There was some data structure that limited
the number (but I don't remember what guys called it).
>
>Master/slave worked pretty well until the advent of the KL, at which point 
>keeping the executing processor's view of memory current with respect to 
>cache became a resource hog. It was about this time the light went on in 
>JMF's head, 
>and SMP was born. SMP was just(?) an extension of the master/slave MP 
>implementation and as such carried along all the old baggage, five 
>processor support included.
>
What do you mean by an "extension of the master/slave MP
implementation".  I remember JMF doing all kinds of things
to make it _not_ an MP implementation.  One of the things
JMF and TW did was make a list of things that had to be
done the boot CPU...and then work at eliminating that list.
In other words, they tried to make specific CPU code just
go away.  Actually, that's when the 'boot CPU' phrase began;
it was to indicate which CPU was keeping track of the time.
That was one of the problems that JMF and TW spent quite 
a while talking about.  

/BAH


Subtract a hundred and four for e-mail.


Article 5212 of alt.sys.pdp10:
Path: news3.best.com!news2.best.com!feed1.news.rcn.net!rcn!d1
From: jmfbahciv@aol.com
Newsgroups: alt.sys.pdp10
Subject: Re: SA10 front panel
Date: Sun, 30 May 99 09:55:37 GMT
Organization: UltraNet Communications, Inc.
Lines: 50
Message-ID: <7ir8d3$hbc$2@autumn.news.rcn.net>
References: <Pine.LNX.4.10.9905171202310.15552-100000@bony.umtec.com> <7i4nm3$msg$1@shell3.ba.best.com> <qh90ahfuo8.fsf@ruckus.brouhaha.com> <37471D12.98C2F010@stoneweb.com> <FC9uux.Hzo@world.std.com> <7ie8c8$ifc$1@hirame.wwa.com> <7igtp6$9tm$1@hirame.wwa.com> <7ii4hd$ef0$1@autumn.news.rcn.net> <7ijnqt$ksi$1@hirame.wwa.com> <7imm1u$ieq$1@autumn.news.rcn.net> <7iof1c$t08$1@autumn.news.rcn.net> <p98mccabe-2905990857350001@r-185.197.alltel.net>
X-Trace: 53/J559Mg4bYjBi2z8lsm9R6XYv4ixel9T5cAgm1ZG0=
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 30 May 1999 11:45:39 GMT
X-Newsreader:  News Xpress Version 1.0 Beta #4
Xref: news3.best.com alt.sys.pdp10:5212

In article <p98mccabe-2905990857350001@r-185.197.alltel.net>,
   p98mccabe@alltel.net (Micheal H. McCabe) wrote:
>In article <7iof1c$t08$1@autumn.news.rcn.net>, jmfbahciv@aol.com wrote:
>
>> We had to have all those oddball devices because we supported
>> them.
>
>What a novel concept!

That was one of reasons DEC was successful.

>
>> Our 5-CPU customer site did use AMPEX so that hardware 
>> checkout was covered
>> when we did the software development.
>
>Was this a true multi-processor configuration? 

Yup.

> SMP?  Shared Memory? 

I don't know what you mean here.  Are you talking about multiple
sharable high segments?

>You've written about SMP on the pdp-10 in the past, but I thought that was
>limited to dual processor configurations.
>
Only in our product manager's mind.  The first ship was deemed to
suppport only two processors (I never did figure out what all the
bullshit was about).  JMF very, very carefully had all the technical
documentation say multi-CPU with the exception of a  BEWARE file 
that we shipped on the SMP tape.  That beware file said two in
exactly three places.  

After SMP shipped, we called it version 7.01, JMF started the
process to allow official support for three.  It took him 3 
seconds to change the beware file from the word "two"  
to "multi" and nine months to negotiate with all the "approval 
committees" to make it a real product.  And that, ladies and 
gentleman, was another reason we failed.  Three seconds of real
work and nine months of bullshit, just to allow support for 
hardware expansion to our customers.

And it didn't matter at all to those anti-ship types that we
already had customers running.

/BAH

Subtract a hundred and four for e-mail.


Article 5217 of alt.sys.pdp10:
Newsgroups: alt.sys.pdp10
Path: news3.best.com!news2.best.com!newsfeed.berkeley.edu!news.new-york.net!uunet!ffx.uu.net!world!weiner
From: weiner@world.std.com (Sam Weiner)
Subject: Re: SA10 front panel
Message-ID: <FCKqxG.I9o@world.std.com>
Date: Mon, 31 May 1999 02:00:52 GMT
References: <Pine.LNX.4.10.9905171202310.15552-100000@bony.umtec.com> <7imm1u$ieq$1@autumn.news.rcn.net> <7iof1c$t08$1@autumn.news.rcn.net> <p98mccabe-2905990857350001@r-185.197.alltel.net>
Organization: The World Public Access UNIX, Brookline, MA
Lines: 28
Xref: news3.best.com alt.sys.pdp10:5217

In article <p98mccabe-2905990857350001@r-185.197.alltel.net>,
Micheal H. McCabe <p98mccabe@alltel.net> wrote:
>In article <7iof1c$t08$1@autumn.news.rcn.net>, jmfbahciv@aol.com wrote:
>
>> We had to have all those oddball devices because we supported
>> them.
>
>What a novel concept!
>
>> Our 5-CPU customer site did use AMPEX so that hardware checkout was covered
>> when we did the software development.
>
>Was this a true multi-processor configuration?  SMP?  Shared Memory? 

Yes, all processors in a SMP system had access to the same memory.  Some
KL10 models, originally intended for TOPS-20 which didn't do SMP, had
internal memory.  If you wanted to use them for TOPS-10 SMP, you needed
to add external memory and turn off the internal memory.  There was a
console command to enable/disable memory.

This is how the final gidney/kl1026 setup worked.  Usually, one ran
TOPS-20 and the other TOPS-10.  If a SMP system was wanted, you turned
off the internal memory on gidney and enabled the external memory
which was also connected to kl1026.  To create a TOPS-20 CFS cluster,
you just had to boot TOPS-20 on kl1026 (and perhaps connect it to the
TOPS-20 HSC but it may have always been connected.)

Sam


Article 3387 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news1.best.com!newsfeed.mathworks.com!europa.netcrusader.net!207.172.3.44!feed2.news.rcn.net!feed1.news.rcn.net!rcn!not-for-mail
From: "Carl R. Friend" <carl.friend@prescienttech.com>
Newsgroups: alt.sys.pdp10
Subject: Re: Help understanding interrupt processing
Date: Mon, 05 Feb 2001 17:58:57 -0500
Organization: as little as possible!
Lines: 43
Message-ID: <3A7F3031.EC5A10F8@prescienttech.com>
References: <3A764A09.8FEE136B@digiweb.com> <3A78E586.8864B7C7@MA.UltraNet.Com> <3A7D0848.29678A56@mail.bcpl.net> <95lkti$15d3$1@nntp1.ba.best.com> <95lun5$204$1@bob.news.rcn.net> <3A7EAB71.58EC9F5A@mail.bcpl.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Trace: UmFuZG9tSVaU6EbWGDzV6IxBzD46KA7nL4PZRdNoSPW8Bn2NBtsgXOVnwE1K9kZW
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 5 Feb 2001 22:58:57 GMT
X-Mailer:  Mozilla 4.5 [en] (X11; I; Linux 2.0.29 i586)
X-Accept-Language:  en
Xref: nntp1.ba.best.com alt.sys.pdp10:3387

Ken McMonigal wrote:
> 
> 2) The accompanying structural chart showed both processors hanging
> off the main bus with memory and I/O. In addition,
> card reader/printer/tapes/terminals hung off a back bus of one of the
> processors. The other processor had no back bus.
> Unfortunately, the author did not identify the master & slave on the
> chart, but I think that Barb's comments clarify this point.

   This is "classic" master/slave, not SMP.  In master/slave, the CPU
with the I/O bus (for external peripherals other than the RTC) was the
master; the one with only a memory interface was the slave (and there
could be more than one).

   The problem with master/slave was that the slave ran fine on any
given job so long as I/O calls weren't made;  those needed the
attention of the master.  So the scheme didn't scale well for real-
world jobs which usually do a fair amount of I/O.  They did work OK
for heavily compute-bound tasks, but those tend to be the exception
rather than the rule.

   In SMP, both (or more) CPUs have I/O connections;  this, of course,
leads to some interesting scheduling issues (what disk cylinder is the
drive on _now_ and did it change since I last controlled it?) and
some equally interesting process scheduling problems.  However, SMP
yields a much better scalability number than master/slave for real-
world applications.

   On pipelining in the KI-10:  the KI did provide very limited
facilities for setting up the address of the next instruction on
the memory bus, but did not (IIRC) initiate the actual fetch (the
iron is, technically, capable of it, but the capacity was never
used (how do you do guaranteed-atomic test-and-jumps with a pre-
fetch unless you can toss the pre-fetch without losing a beat?).


-- 
+------------------------------------------------+---------------------+
| Carl Richard Friend (UNIX Sysadmin)            | West Boylston       |
| Minicomputer Collector / Enthusiast            | Massachusetts, USA  |
| mailto:crfriend@ma.ultranet.com                +---------------------+
| http://www.ultranet.com/~crfriend/museum       | ICBM: 42:22N 71:47W |
+------------------------------------------------+---------------------+


Article 3393 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news2.best.com!news-hog.berkeley.edu!newsfeed.berkeley.edu!ucberkeley!hammer.uoregon.edu!feed.textport.net!sn-xit-04!sn-post-01!supernews.com!corp.supernews.com!not-for-mail
From: "Chuck O'Toole" <cdo@qwsi.net>
Newsgroups: alt.sys.pdp10
Subject: Re: Help understanding interrupt processing
Date: Mon, 5 Feb 2001 19:38:19 -0500
Organization: Posted via Supernews, http://www.supernews.com
Message-ID: <t7uirsr8ah495a@corp.supernews.com>
References: <3A764A09.8FEE136B@digiweb.com> <3A78E586.8864B7C7@MA.UltraNet.Com> <3A7D0848.29678A56@mail.bcpl.net> <95lkti$15d3$1@nntp1.ba.best.com> <95lun5$204$1@bob.news.rcn.net> <3A7EAB71.58EC9F5A@mail.bcpl.net> <3A7F3031.EC5A10F8@prescienttech.com>
X-Priority: 3
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 5.00.2314.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
X-Complaints-To: newsabuse@supernews.com
Lines: 68
Xref: nntp1.ba.best.com alt.sys.pdp10:3393


Carl R. Friend <carl.friend@prescienttech.com> wrote in message
news:3A7F3031.EC5A10F8@prescienttech.com...
> Ken McMonigal wrote:
> >
> > 2) The accompanying structural chart showed both processors hanging
> > off the main bus with memory and I/O. In addition,
> > card reader/printer/tapes/terminals hung off a back bus of one of the
> > processors. The other processor had no back bus.
> > Unfortunately, the author did not identify the master & slave on the
> > chart, but I think that Barb's comments clarify this point.
>
>    This is "classic" master/slave, not SMP.  In master/slave, the CPU
> with the I/O bus (for external peripherals other than the RTC) was the
> master; the one with only a memory interface was the slave (and there
> could be more than one).
>
>    The problem with master/slave was that the slave ran fine on any
> given job so long as I/O calls weren't made;  those needed the
> attention of the master.  So the scheme didn't scale well for real-
> world jobs which usually do a fair amount of I/O.  They did work OK
> for heavily compute-bound tasks, but those tend to be the exception
> rather than the rule.
>
>    In SMP, both (or more) CPUs have I/O connections;  this, of course,
> leads to some interesting scheduling issues (what disk cylinder is the
> drive on _now_ and did it change since I last controlled it?) and
> some equally interesting process scheduling problems.  However, SMP
> yields a much better scalability number than master/slave for real-
> world applications.

Well, in the -10 case, the cpus had I/O connections but not to the same bus.
CPU0 could not control the mass bus controllers on CPU1.

The real advantage of SMP over Master/Slave (M/S) was that you didn't need
to context switch to the primary/master cpu just because some job issued a
MUUO.  M/S worked great if you always had some moby compute bound jobs
to run on the slave.  Otherwise, you ended up with a processor that sat idle
because all the jobs were marked as "needs master's attention".

The real benefit of SMP was due to how deep into the FILSER or other system
modules before you had to switch to the right cpu to "tickle the hardware
registers"
that started I/O.  Buffer management and other things could be done by
either CPU
with sufficient locks and cache management.

The 2nd (and subsequent) I/O bus was just gravy, gave you access to more
devices
for unit record gear or to dual path disks/tapes.  On 1026/1042, 1042 had
all the
RSX20-F gear, terminals, lpt11, cdr11 while1026 had the traditional LPT1 and
DC76.
Net (DN20s) were spread around.

It wasn't until the BI bus VAXen (8300(scorpio), 8700(nautalis)) did I see
the cpus
actively sharing the same I/O bus (never played with a 782, obsolete before
I got
around to VAXen).  I think the 9000(aquarius) cpus shared the same I/O bus
too.
Of course, write-through caches and having the memory logic monitor the bus
so cache was automatically invalidated when I/O writes went by helped
enormously.

/cdo




Article 3394 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news2.best.com!feed2.news.rcn.net!feed1.news.rcn.net!rcn!not-for-mail
From: "Carl R. Friend" <carl.friend@prescienttech.com>
Newsgroups: alt.sys.pdp10
Subject: Re: Help understanding interrupt processing
Date: Mon, 05 Feb 2001 20:45:40 -0500
Organization: as little as possible!
Lines: 53
Message-ID: <3A7F5744.16D375B3@prescienttech.com>
References: <3A764A09.8FEE136B@digiweb.com> <3A78E586.8864B7C7@MA.UltraNet.Com> <3A7D0848.29678A56@mail.bcpl.net> <95lkti$15d3$1@nntp1.ba.best.com> <95lun5$204$1@bob.news.rcn.net> <3A7EAB71.58EC9F5A@mail.bcpl.net> <3A7F3031.EC5A10F8@prescienttech.com> <t7uirsr8ah495a@corp.supernews.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Trace: UmFuZG9tSVbRdskJrjy8tFtTtYkuvMJzJUZYI5GllV/8ZfHevbXCQxKxvwXVZTUC
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 6 Feb 2001 01:45:42 GMT
X-Mailer:  Mozilla 4.5 [en] (X11; I; Linux 2.0.29 i586)
X-Accept-Language:  en
Xref: nntp1.ba.best.com alt.sys.pdp10:3394

Chuck O'Toole wrote:
> 
> Well, in the -10 case [of SMP], the cpus had I/O connections but not
> to the same bus.  CPU0 could not control the mass bus controllers on
> CPU1.

   True, given that there was no multi-master arbitration on the I/O
bus (which was still PDP-6 style logic).  However, the heavy-hitters
are usually disk drives, and most of those were dual-ported allowing
an RH-10/DF-10 pair on one CPU and a similar pair on another both
access to any given disk.

> The real advantage of SMP over Master/Slave (M/S) was that you didn't
> need to context switch to the primary/master cpu just because some
> job issued a MUUO.

   Exactly.

> M/S worked great if you always had some moby compute bound jobs
> to run on the slave.  Otherwise, you ended up with a processor that
> sat idle because all the jobs were marked as "needs master's
> attention".

   We agree precisely on this.

> The real benefit of SMP was due to how deep into the FILSER or other
> system modules before you had to switch to the right cpu to "tickle
> the hardware registers" that started I/O.

   With dual-ported disks, and channel controllers for each, a non-
policy CPU could complete I/O calls without aid from the policy CPU.

> Buffer management and other things could be done by either CPU
> with sufficient locks and cache management.

   Cache-management was a completely different ball of wax, and I'm
still amazed that they were able to pull it off with multiple CPUs,
each with their own private caches!

> The 2nd (and subsequent) I/O bus was just gravy, gave you access to
> more devices for unit record gear or to dual path disks/tapes.

   UR gear wasn't a heavy-hitter in any of the apps I saw, and our
terminal interface, save for the consoles for each of the CPUs, was
done in shared memory.

-- 
+------------------------------------------------+---------------------+
| Carl Richard Friend (UNIX Sysadmin)            | West Boylston       |
| Minicomputer Collector / Enthusiast            | Massachusetts, USA  |
| mailto:crfriend@ma.ultranet.com                +---------------------+
| http://www.ultranet.com/~crfriend/museum       | ICBM: 42:22N 71:47W |
+------------------------------------------------+---------------------+


Article 3392 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news2.best.com!news.maxwell.syr.edu!nntp.abs.net!news.abs.net!not-for-mail
Message-ID: <3A7F488C.D4A27ACE@mail.bcpl.net>
From: Ken McMonigal <kmcmonig@mail.bcpl.net>
X-Mailer: Mozilla 4.61 [en] (Win98; I)
X-Accept-Language: en
MIME-Version: 1.0
Newsgroups: alt.sys.pdp10
Subject: Re: Help understanding interrupt processing
References: <3A764A09.8FEE136B@digiweb.com> <3A78E586.8864B7C7@MA.UltraNet.Com> <3A7D0848.29678A56@mail.bcpl.net> <95lkti$15d3$1@nntp1.ba.best.com> <95lun5$204$1@bob.news.rcn.net> <3A7EAB71.58EC9F5A@mail.bcpl.net> <3A7F3031.EC5A10F8@prescienttech.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Lines: 93
Date: Mon, 05 Feb 2001 19:42:52 -0500
NNTP-Posting-Host: 208.242.126.176
X-Complaints-To: abuse@bcpl.net
X-Trace: news.abs.net 981419994 208.242.126.176 (Mon, 05 Feb 2001 19:39:54 EST)
NNTP-Posting-Date: Mon, 05 Feb 2001 19:39:54 EST
Xref: nntp1.ba.best.com alt.sys.pdp10:3392

"Carl R. Friend" wrote:
> 
> Ken McMonigal wrote:
> >
> > 2) The accompanying structural chart showed both processors hanging
> > off the main bus with memory and I/O. In addition,
> > card reader/printer/tapes/terminals hung off a back bus of one of the
> > processors. The other processor had no back bus.
> > Unfortunately, the author did not identify the master & slave on the
> > chart, but I think that Barb's comments clarify this point.
> 
>    This is "classic" master/slave, not SMP.  In master/slave, the CPU
> with the I/O bus (for external peripherals other than the RTC) was the
> master; the one with only a memory interface was the slave (and there
> could be more than one).
> 
>    The problem with master/slave was that the slave ran fine on any
> given job so long as I/O calls weren't made;  those needed the
> attention of the master.  So the scheme didn't scale well for real-
> world jobs which usually do a fair amount of I/O.  They did work OK
> for heavily compute-bound tasks, but those tend to be the exception
> rather than the rule.
> 
>    In SMP, both (or more) CPUs have I/O connections;  this, of course,
> leads to some interesting scheduling issues (what disk cylinder is the
> drive on _now_ and did it change since I last controlled it?) and
> some equally interesting process scheduling problems.  However, SMP
> yields a much better scalability number than master/slave for real-
> world applications.
> 

Thanks for the input on that. As I looked at the chart showing the
master with all the disk/drum, a "bell" did ring in my head about
the bottlenecks. But when Barb started talking about the "doorbell"
in SMP, I found too many interesting thread possibilities
(no pun intended) & thought I should try to read up on some
PDP-10 specific stuff before I commented further on this area.

What I'm really interested in is the applications of the end users.
Of course you had universities & commercial sites running time-sharing
but I was wondering if the -10 was used in manufacturing, etc.?
That might give some clues on the points you made above.

>    On pipelining in the KI-10:  the KI did provide very limited
> facilities for setting up the address of the next instruction on
> the memory bus, but did not (IIRC) initiate the actual fetch (the
> iron is, technically, capable of it, but the capacity was never
> used (how do you do guaranteed-atomic test-and-jumps with a pre-
> fetch unless you can toss the pre-fetch without losing a beat?).
> 
> --
> +------------------------------------------------+---------------------+
> | Carl Richard Friend (UNIX Sysadmin)            | West Boylston       |
> | Minicomputer Collector / Enthusiast            | Massachusetts, USA  |
> | mailto:crfriend@ma.ultranet.com                +---------------------+
> | http://www.ultranet.com/~crfriend/museum       | ICBM: 42:22N 71:47W |
> +------------------------------------------------+---------------------+

So possibly the setting-up was a small speed gain where the address had
settled on lines leading to the core & a read pulse had not yet
been written? I'm speculating that if it turned out that a different
address
was needed, then a different address could be written, followed by the 
read pulse.

However, I have no -10 hardware timing diagrams & no (or very
faint) experience with core memory. I know that there is a huge
-10 schematic out there but I was reluctant to tie down the server.

Let's see, as to core memory, there's this flat doughnut with 3 wires...
?


Thanks for your helpful comments.

Ken

P.S.  As for this:
--
> +------------------------------------------------+---------------------+
> | Carl Richard Friend (UNIX Sysadmin)            | West Boylston       |
> | Minicomputer Collector / Enthusiast            | Massachusetts, USA  |
> | mailto:crfriend@ma.ultranet.com                +---------------------+
> | http://www.ultranet.com/~crfriend/museum       | ICBM: 42:22N 71:47W |
> +------------------------------------------------+---------------------+

I really enjoyed your web-site months (?) before this message.
And if I understand the right part of above, I'm 30 miles from the big
computer/decoder-ring guys. (I put it that way instead of the initials
so "special software" wouldn't pick it up. (ha-ha)

When I was a kid, we would drive to my grandfather's & go past a
NIKE site (next to a retired submarine).


Article 3396 of alt.sys.pdp10:
Path: nntp1.ba.best.com!news1.best.com!news.dra.com!newsxfer.visi.net!news-spur1.maxwell.syr.edu!news.maxwell.syr.edu!xfer13.netnews.com!netnews.com!feed2.news.rcn.net!feed1.news.rcn.net!rcn!207-172-245-253
From: jmfbahciv@aol.com
Newsgroups: alt.sys.pdp10
Subject: Re: Help understanding interrupt processing
Date: Tue, 06 Feb 01 08:56:18 GMT
Organization: UltraNet Communications, Inc.
Lines: 45
Message-ID: <95oijq$3nc$1@bob.news.rcn.net>
References: <3A764A09.8FEE136B@digiweb.com> <3A78E586.8864B7C7@MA.UltraNet.Com> <3A7D0848.29678A56@mail.bcpl.net> <95lkti$15d3$1@nntp1.ba.best.com> <95lun5$204$1@bob.news.rcn.net> <3A7EAB71.58EC9F5A@mail.bcpl.net> <3A7F3031.EC5A10F8@prescienttech.com>
X-Trace: UmFuZG9tSVarVdYYTLKsrVbaNxtHflA/5tWMbaYe8+lI3S6pkKxw3U1OzHa7MPzZ
X-Complaints-To: abuse@rcn.com
NNTP-Posting-Date: 6 Feb 2001 10:11:06 GMT
X-Newsreader:  News Xpress Version 1.0 Beta #4
Xref: nntp1.ba.best.com alt.sys.pdp10:3396

In article <3A7F3031.EC5A10F8@prescienttech.com>,
   "Carl R. Friend" <carl.friend@prescienttech.com> wrote:
>Ken McMonigal wrote:
>> 
>> 2) The accompanying structural chart showed both processors hanging
>> off the main bus with memory and I/O. In addition,
>> card reader/printer/tapes/terminals hung off a back bus of one of the
>> processors. The other processor had no back bus.
>> Unfortunately, the author did not identify the master & slave on the
>> chart, but I think that Barb's comments clarify this point.
>
>   This is "classic" master/slave, not SMP.  In master/slave, the CPU
>with the I/O bus (for external peripherals other than the RTC) was the
>master; the one with only a memory interface was the slave (and there
>could be more than one).
>
>   The problem with master/slave was that the slave ran fine on any
>given job so long as I/O calls weren't made;  those needed the
>attention of the master.  So the scheme didn't scale well for real-
>world jobs which usually do a fair amount of I/O.  They did work OK
>for heavily compute-bound tasks, but those tend to be the exception
>rather than the rule.

Right.  And the recommended command for those jobs that were
compute-bound was to say SET CPU ONLY CPU1 but the user had
to be very careful that the job really was CPU bound.  A lot
of jobs only seemed CPU bound when we shipped a newer faster
disk drive/controller. 

>
>   In SMP, both (or more) CPUs have I/O connections;  this, of course,
>leads to some interesting scheduling issues (what disk cylinder is the
>drive on _now_ and did it change since I last controlled it?) and
>some equally interesting process scheduling problems. 

The monitor wouldn't have that problem if the device driver
and controller code was reentrant :-).  Remember there was only
one copy of the monitor in core.  I do remember that TW had a bitch
of a time reworking his code to be reentrant but it got done.

<snip>

/BAH

Subtract a hundred and four for e-mail.


